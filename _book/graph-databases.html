<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 12 Graph Databases | DataManagement.knit</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 12 Graph Databases | DataManagement.knit" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 12 Graph Databases | DataManagement.knit" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="spatial-and-temporal-data-management.html"/>
<link rel="next" href="xml-managing-data-exchange.html"/>
<script src="libs/header-attrs-2.12/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="data-management-databases-and-organizations.html#data-management-databases-and-organizations">Data Management: Databases and Organizations<span></span></a></li>
<li><a href="preface.html#preface">Preface<span></span></a>
<ul>
<li><a href="preface.html#supplements">Supplements<span></span></a></li>
<li><a href="preface.html#acknowledgments">Acknowledgments<span></span></a></li>
</ul></li>
<li><a href="section-1-the-managerial-perspective.html#section-1-the-managerial-perspective">Section 1 The Managerial Perspective<span></span></a></li>
<li class="chapter" data-level="1" data-path="managing-data.html"><a href="managing-data.html"><i class="fa fa-check"></i><b>1</b> Managing Data<span></span></a>
<ul>
<li><a href="managing-data.html#introduction">Introduction<span></span></a></li>
<li><a href="managing-data.html#individual-data-management">Individual data management<span></span></a></li>
<li><a href="managing-data.html#organizational-data-management">Organizational data management<span></span></a></li>
<li><a href="managing-data.html#problems-with-data-management-systems">Problems with data management systems<span></span></a></li>
<li><a href="managing-data.html#a-brief-history-of-data-management-systems">A brief history of data management systems<span></span></a></li>
<li><a href="managing-data.html#data-information-and-knowledge">Data, information, and knowledge<span></span></a></li>
<li><a href="managing-data.html#the-challenge">The challenge<span></span></a></li>
<li><a href="managing-data.html#exercises">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="information.html"><a href="information.html"><i class="fa fa-check"></i><b>2</b> Information<span></span></a>
<ul>
<li><a href="information.html#introduction-1">Introduction<span></span></a></li>
<li><a href="information.html#a-historical-perspective">A historical perspective<span></span></a></li>
<li><a href="information.html#a-brief-history-of-information-systems">A brief history of information systems<span></span></a></li>
<li><a href="information.html#information-characteristics">Information characteristics<span></span></a></li>
<li><a href="information.html#information-and-organizational-change">Information and organizational change<span></span></a></li>
<li><a href="information.html#information-and-managerial-work">Information and managerial work<span></span></a></li>
<li><a href="information.html#managers-information-requirements">Managers’ information requirements<span></span></a></li>
<li><a href="information.html#information-delivery-systems">Information delivery systems<span></span></a></li>
<li><a href="information.html#information-integration">Information integration<span></span></a></li>
<li><a href="information.html#knowledge-1">Knowledge<span></span></a></li>
<li><a href="information.html#exercises-1">Exercises<span></span></a></li>
</ul></li>
<li><a href="section-2-data-modeling-and-sql.html#section-2-data-modeling-and-sql">Section 2 Data Modeling and SQL<span></span></a></li>
<li class="chapter" data-level="3" data-path="the-single-entity.html"><a href="the-single-entity.html"><i class="fa fa-check"></i><b>3</b> The Single Entity<span></span></a>
<ul>
<li><a href="the-single-entity.html#the-relational-model">The relational model<span></span></a></li>
<li><a href="the-single-entity.html#getting-started">Getting started<span></span></a></li>
<li><a href="the-single-entity.html#modeling-a-single-entity-database">Modeling a single-entity database<span></span></a></li>
<li><a href="the-single-entity.html#creating-a-single-table-database">Creating a single-table database<span></span></a></li>
<li><a href="the-single-entity.html#querying-a-single-table-database">Querying a single-table database<span></span></a></li>
<li><a href="the-single-entity.html#exercises-2">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="the-one-to-many-relationship.html"><a href="the-one-to-many-relationship.html"><i class="fa fa-check"></i><b>4</b> The One-to-Many Relationship<span></span></a>
<ul>
<li><a href="the-one-to-many-relationship.html#relationships">Relationships<span></span></a></li>
<li><a href="the-one-to-many-relationship.html#creating-a-database-with-a-1m-relationship">Creating a database with a 1:m relationship<span></span></a></li>
<li><a href="the-one-to-many-relationship.html#querying-a-two-table-database">Querying a two-table database<span></span></a></li>
<li><a href="the-one-to-many-relationship.html#regular-expressionpattern-matching-1">Regular expression—pattern matching<span></span></a></li>
<li><a href="the-one-to-many-relationship.html#subqueries-1">Subqueries<span></span></a></li>
<li><a href="the-one-to-many-relationship.html#exercises-3">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="the-many-to-many-relationship.html"><a href="the-many-to-many-relationship.html"><i class="fa fa-check"></i><b>5</b> The Many-to-Many Relationship<span></span></a>
<ul>
<li><a href="the-many-to-many-relationship.html#the-many-to-many-relationship-1">The many-to-many relationship<span></span></a></li>
<li><a href="the-many-to-many-relationship.html#creating-a-relational-database-with-an-mm-relationship">Creating a relational database with an m:m relationship<span></span></a></li>
<li><a href="the-many-to-many-relationship.html#querying-an-mm-relationship">Querying an m:m relationship<span></span></a></li>
<li><a href="the-many-to-many-relationship.html#key-terms-and-concepts-2">Key terms and concepts<span></span></a></li>
<li><a href="the-many-to-many-relationship.html#exercises-4">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="one-to-one-and-recursive-relationships.html"><a href="one-to-one-and-recursive-relationships.html"><i class="fa fa-check"></i><b>6</b> One-to-One and Recursive Relationships<span></span></a>
<ul>
<li><a href="one-to-one-and-recursive-relationships.html#modeling-a-one-to-one-relationship">Modeling a one-to-one relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#mapping-a-one-to-one-relationship">Mapping a one-to-one relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#mapping-a-recursive-one-to-many-relationship">Mapping a recursive one-to-many relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#querying-a-one-to-one-relationship">Querying a one-to-one relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#querying-a-recursive-1m-relationship">Querying a recursive 1:m relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#modeling-a-recursive-one-to-one-relationship">Modeling a recursive one-to-one relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#mapping-a-recursive-one-to-one-relationship">Mapping a recursive one-to-one relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#querying-a-recursive-one-to-one-relationship">Querying a recursive one-to-one relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#modeling-a-recursive-many-to-many-relationship">Modeling a recursive many-to-many relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#mapping-a-recursive-many-to-many-relationship">Mapping a recursive many-to-many relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#querying-a-recursive-many-to-many-relationship">Querying a recursive many-to-many relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#exercises-5">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-modeling.html"><a href="data-modeling.html"><i class="fa fa-check"></i><b>7</b> Data Modeling<span></span></a>
<ul>
<li><a href="data-modeling.html#modeling">Modeling<span></span></a></li>
<li><a href="data-modeling.html#data-modeling-1">Data modeling<span></span></a></li>
<li><a href="data-modeling.html#data-model-quality">Data model quality<span></span></a></li>
<li><a href="data-modeling.html#quality-improvement">Quality improvement<span></span></a></li>
<li><a href="data-modeling.html#data-modeling-hints">Data modeling hints<span></span></a></li>
<li><a href="data-modeling.html#the-seven-habits-of-highly-effective-data-modelers">The seven habits of highly effective data modelers<span></span></a></li>
<li><a href="data-modeling.html#exercises-6">Exercises<span></span></a></li>
</ul></li>
<li><a href="reference-1-basic-structures.html#reference-1-basic-structures">Reference 1: Basic Structures<span></span></a>
<ul>
<li><a href="reference-1-basic-structures.html#one-entity">One entity<span></span></a></li>
<li><a href="reference-1-basic-structures.html#two-entities">Two entities<span></span></a></li>
<li><a href="reference-1-basic-structures.html#another-entitys-identifier-as-part-of-the-identifier">Another entity’s identifier as part of the identifier<span></span></a></li>
<li><a href="reference-1-basic-structures.html#exercises-7">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="normalization-and-other-data-modeling-methods.html"><a href="normalization-and-other-data-modeling-methods.html"><i class="fa fa-check"></i><b>8</b> Normalization and Other Data Modeling Methods<span></span></a>
<ul>
<li><a href="normalization-and-other-data-modeling-methods.html#multiple-paths">Multiple paths<span></span></a></li>
<li><a href="normalization-and-other-data-modeling-methods.html#normalization">Normalization<span></span></a></li>
<li><a href="normalization-and-other-data-modeling-methods.html#other-data-modeling-methods">Other data modeling methods<span></span></a></li>
<li><a href="normalization-and-other-data-modeling-methods.html#key-terms-and-concepts-5">Key terms and concepts<span></span></a></li>
<li><a href="normalization-and-other-data-modeling-methods.html#exercises-8">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="the-relational-model-and-relational-algebra.html"><a href="the-relational-model-and-relational-algebra.html"><i class="fa fa-check"></i><b>9</b> The Relational Model and Relational Algebra<span></span></a>
<ul>
<li><a href="the-relational-model-and-relational-algebra.html#background">Background<span></span></a></li>
<li><a href="the-relational-model-and-relational-algebra.html#data-structures">Data structures<span></span></a></li>
<li><a href="the-relational-model-and-relational-algebra.html#integrity-rules">Integrity rules<span></span></a></li>
<li><a href="the-relational-model-and-relational-algebra.html#manipulation-languages">Manipulation languages<span></span></a></li>
<li><a href="the-relational-model-and-relational-algebra.html#a-fully-relational-database">A fully relational database<span></span></a></li>
<li><a href="the-relational-model-and-relational-algebra.html#exercises-9">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="sql.html"><a href="sql.html"><i class="fa fa-check"></i><b>10</b> SQL<span></span></a>
<ul>
<li><a href="sql.html#structured-query-language">Structured query language<span></span></a></li>
<li><a href="sql.html#creating-a-table">Creating a table<span></span></a></li>
<li><a href="sql.html#data-types">Data types<span></span></a></li>
<li><a href="sql.html#collation-sequence">Collation sequence<span></span></a></li>
<li><a href="sql.html#scalar-functions">Scalar functions<span></span></a></li>
<li><a href="sql.html#formatting">Formatting<span></span></a></li>
<li><a href="sql.html#table-commands">Table commands<span></span></a></li>
<li><a href="sql.html#data-manipulation">Data manipulation<span></span></a></li>
<li><a href="sql.html#insert">INSERT<span></span></a></li>
<li><a href="sql.html#update-1">UPDATE<span></span></a></li>
<li><a href="sql.html#delete-1">DELETE<span></span></a></li>
<li><a href="sql.html#sql-routines">SQL routines<span></span></a></li>
<li><a href="sql.html#universal-unique-identifier-uuid">Universal Unique Identifier (UUID)<span></span></a></li>
<li><a href="sql.html#nullsmuch-ado-about-missing-information">Nulls—much ado about missing information<span></span></a></li>
<li><a href="sql.html#security">Security<span></span></a></li>
<li><a href="sql.html#the-system-catalog">The system catalog<span></span></a></li>
<li><a href="sql.html#natural-language-processing">Natural language processing<span></span></a></li>
<li><a href="sql.html#connectivity-and-odbc">Connectivity and ODBC<span></span></a></li>
<li><a href="sql.html#embedded-sql">Embedded SQL<span></span></a></li>
<li><a href="sql.html#user-defined-types">User-defined types<span></span></a></li>
<li><a href="sql.html#the-future-of-sql">The future of SQL<span></span></a></li>
</ul></li>
<li><a href="reference-2-sql-playbook.html#reference-2-sql-playbook">Reference 2: SQL Playbook<span></span></a>
<ul>
<li><a href="reference-2-sql-playbook.html#the-power-of-sql">The power of SQL<span></span></a></li>
</ul></li>
<li><a href="section-3-advanced-data-management.html#section-3-advanced-data-management">Section 3 Advanced Data Management<span></span></a></li>
<li class="chapter" data-level="11" data-path="spatial-and-temporal-data-management.html"><a href="spatial-and-temporal-data-management.html"><i class="fa fa-check"></i><b>11</b> Spatial and Temporal Data Management<span></span></a>
<ul>
<li><a href="spatial-and-temporal-data-management.html#spatial-data">Spatial data<span></span></a></li>
<li><a href="spatial-and-temporal-data-management.html#managing-spatial-data">Managing spatial data<span></span></a></li>
<li><a href="spatial-and-temporal-data-management.html#data-model-mapping">Data model mapping<span></span></a></li>
<li><a href="spatial-and-temporal-data-management.html#r-tree">R-tree<span></span></a></li>
<li><a href="spatial-and-temporal-data-management.html#managing-temporal-data">Managing temporal data<span></span></a></li>
<li><a href="spatial-and-temporal-data-management.html#key-terms-and-concepts-8">Key terms and concepts<span></span></a></li>
<li><a href="spatial-and-temporal-data-management.html#exercises-11">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="graph-databases.html"><a href="graph-databases.html"><i class="fa fa-check"></i><b>12</b> Graph Databases<span></span></a>
<ul>
<li><a href="graph-databases.html#a-graph-database">A graph database<span></span></a></li>
<li><a href="graph-databases.html#neo4j-a-graph-database-implementation">Neo4j – a graph database implementation<span></span></a></li>
<li><a href="graph-databases.html#a-relationship-between-nodes">A relationship between nodes<span></span></a></li>
<li><a href="graph-databases.html#key-terms-and-concepts-9">Key terms and concepts<span></span></a></li>
<li><a href="graph-databases.html#exercises-12">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="xml-managing-data-exchange.html"><a href="xml-managing-data-exchange.html"><i class="fa fa-check"></i><b>13</b> XML: Managing Data Exchange<span></span></a>
<ul>
<li><a href="xml-managing-data-exchange.html#four-problems">Four problems<span></span></a></li>
<li><a href="xml-managing-data-exchange.html#sgml">SGML<span></span></a></li>
<li><a href="xml-managing-data-exchange.html#xml">XML<span></span></a></li>
<li><a href="xml-managing-data-exchange.html#xml-schema">XML schema<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="organizational-intelligence.html"><a href="organizational-intelligence.html"><i class="fa fa-check"></i><b>14</b> Organizational Intelligence<span></span></a>
<ul>
<li><a href="organizational-intelligence.html#information-poverty">Information poverty<span></span></a></li>
<li><a href="organizational-intelligence.html#an-organizational-intelligence-system">An organizational intelligence system<span></span></a></li>
<li><a href="organizational-intelligence.html#the-data-warehouse">The data warehouse<span></span></a></li>
<li><a href="organizational-intelligence.html#exploiting-data-stores">Exploiting data stores<span></span></a></li>
<li><a href="organizational-intelligence.html#data-mining">Data mining<span></span></a></li>
<li><a href="organizational-intelligence.html#exercises-14">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>15</b> Introduction to R<span></span></a>
<ul>
<li><a href="introduction-to-r.html#the-r-project">The R project<span></span></a></li>
<li><a href="introduction-to-r.html#datasets">Datasets<span></span></a></li>
<li><a href="introduction-to-r.html#packages">Packages<span></span></a></li>
<li><a href="introduction-to-r.html#file-handing">File handing<span></span></a></li>
<li><a href="introduction-to-r.html#data-manipulation-with-dplyr">Data manipulation with dplyr<span></span></a></li>
<li><a href="introduction-to-r.html#database-access">Database access<span></span></a></li>
<li><a href="introduction-to-r.html#excel-files">Excel files<span></span></a></li>
<li><a href="introduction-to-r.html#r-resources">R resources<span></span></a></li>
<li><a href="introduction-to-r.html#r-and-data-analytics">R and data analytics<span></span></a></li>
<li><a href="introduction-to-r.html#exercises-15">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="data-visualization-1.html"><a href="data-visualization-1.html"><i class="fa fa-check"></i><b>16</b> Data visualization<span></span></a>
<ul>
<li><a href="data-visualization-1.html#visual-processing">Visual processing<span></span></a></li>
<li><a href="data-visualization-1.html#the-grammar-of-graphics">The grammar of graphics<span></span></a></li>
<li><a href="data-visualization-1.html#ggplot2">ggplot2<span></span></a></li>
<li><a href="data-visualization-1.html#some-recipes">Some recipes<span></span></a></li>
<li><a href="data-visualization-1.html#geographic-data">Geographic data<span></span></a></li>
<li><a href="data-visualization-1.html#r-resources-1">R resources<span></span></a></li>
<li><a href="data-visualization-1.html#exercises-16">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="text-mining-natural-language-processing.html"><a href="text-mining-natural-language-processing.html"><i class="fa fa-check"></i><b>17</b> Text mining &amp; natural language processing<span></span></a>
<ul>
<li><a href="text-mining-natural-language-processing.html#the-nature-of-language">The nature of language<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#levels-of-processing">Levels of processing<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#tokenization">Tokenization<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#sentiment-analysis">Sentiment analysis<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#corpus">Corpus<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#readability">Readability<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#preprocessing">Preprocessing<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#word-frequency-analysis">Word frequency analysis<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#co-occurrence-and-association">Co-occurrence and association<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#cluster-analysis">Cluster analysis<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#topic-modeling">Topic modeling<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#named-entity-recognition-ner">Named-entity recognition (NER)<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#future-developments">Future developments<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#key-terms-and-concepts-13">Key terms and concepts<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#exercises-17">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="cluster-computing.html"><a href="cluster-computing.html"><i class="fa fa-check"></i><b>18</b> Cluster computing<span></span></a>
<ul>
<li><a href="cluster-computing.html#a-paradigm-shift">A paradigm shift<span></span></a></li>
<li><a href="cluster-computing.html#the-drivers">The drivers<span></span></a></li>
<li><a href="cluster-computing.html#the-bottleneck-and-its-solution">The bottleneck and its solution<span></span></a></li>
<li><a href="cluster-computing.html#lambda-architecture">Lambda Architecture<span></span></a></li>
<li><a href="cluster-computing.html#hadoop">Hadoop<span></span></a></li>
<li><a href="cluster-computing.html#spark">Spark<span></span></a></li>
<li><a href="cluster-computing.html#exercises-18">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="dashboards.html"><a href="dashboards.html"><i class="fa fa-check"></i><b>19</b> Dashboards<span></span></a>
<ul>
<li><a href="dashboards.html#the-value-of-dashboards">The value of dashboards<span></span></a></li>
<li><a href="dashboards.html#designing-a-dashboard">Designing a dashboard<span></span></a></li>
<li><a href="dashboards.html#dashboards-with-r">Dashboards with R<span></span></a></li>
<li><a href="dashboards.html#conclusion-5">Conclusion<span></span></a></li>
<li><a href="dashboards.html#exercises-19">Exercises<span></span></a></li>
</ul></li>
<li><a href="section-4-managing-organizational-memory.html#section-4-managing-organizational-memory">Section 4 Managing Organizational Memory<span></span></a></li>
<li class="chapter" data-level="20" data-path="data-structure-and-storage.html"><a href="data-structure-and-storage.html"><i class="fa fa-check"></i><b>20</b> Data Structure and Storage<span></span></a>
<ul>
<li><a href="data-structure-and-storage.html#the-data-deluge">The data deluge<span></span></a></li>
<li><a href="data-structure-and-storage.html#data-structures-1">Data structures<span></span></a></li>
<li><a href="data-structure-and-storage.html#data-coding-standards">Data coding standards<span></span></a></li>
<li><a href="data-structure-and-storage.html#data-storage-devices">Data storage devices<span></span></a></li>
<li><a href="data-structure-and-storage.html#data-compression">Data compression<span></span></a></li>
<li><a href="data-structure-and-storage.html#key-terms-and-concepts-15">Key terms and concepts<span></span></a></li>
<li><a href="data-structure-and-storage.html#exercises-20">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="data-processing-architectures.html"><a href="data-processing-architectures.html"><i class="fa fa-check"></i><b>21</b> Data Processing Architectures<span></span></a>
<ul>
<li><a href="data-processing-architectures.html#architectural-choices">Architectural choices<span></span></a></li>
<li><a href="data-processing-architectures.html#remote-job-entry">Remote job entry<span></span></a></li>
<li><a href="data-processing-architectures.html#personal-database">Personal database<span></span></a></li>
<li><a href="data-processing-architectures.html#clientserver">Client/server<span></span></a></li>
<li><a href="data-processing-architectures.html#cloud-computing">Cloud computing<span></span></a></li>
<li><a href="data-processing-architectures.html#distributed-database">Distributed database<span></span></a></li>
<li><a href="data-processing-architectures.html#distributed-data-access">Distributed data access<span></span></a></li>
<li><a href="data-processing-architectures.html#distributed-database-design">Distributed database design<span></span></a></li>
<li><a href="data-processing-architectures.html#key-terms-and-concepts-16">Key terms and concepts<span></span></a></li>
<li><a href="data-processing-architectures.html#exercises-21">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="sql-and-java.html"><a href="sql-and-java.html"><i class="fa fa-check"></i><b>22</b> SQL and Java<span></span></a>
<ul>
<li><a href="sql-and-java.html#java">JAVA<span></span></a></li>
<li><a href="sql-and-java.html#using-sql-within-java">Using SQL within Java<span></span></a></li>
<li><a href="sql-and-java.html#javaserver-pages-jsp">JavaServer Pages (JSP)<span></span></a></li>
<li><a href="sql-and-java.html#exercises-22">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="data-integrity.html"><a href="data-integrity.html"><i class="fa fa-check"></i><b>23</b> Data Integrity<span></span></a>
<ul>
<li><a href="data-integrity.html#introduction-2">Introduction<span></span></a></li>
<li><a href="data-integrity.html#transaction-management">Transaction management<span></span></a></li>
<li><a href="data-integrity.html#protecting-existence">Protecting existence<span></span></a></li>
<li><a href="data-integrity.html#maintaining-data-quality">Maintaining data quality<span></span></a></li>
<li><a href="data-integrity.html#ensuring-confidentiality">Ensuring confidentiality<span></span></a></li>
<li><a href="data-integrity.html#key-terms-and-concepts-18">Key terms and concepts<span></span></a></li>
<li><a href="data-integrity.html#exercises-23">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="data-administration.html"><a href="data-administration.html"><i class="fa fa-check"></i><b>24</b> Data Administration<span></span></a>
<ul>
<li><a href="data-administration.html#introduction-3">Introduction<span></span></a></li>
<li><a href="data-administration.html#the-chief-data-officer">The Chief Data Officer<span></span></a></li>
<li><a href="data-administration.html#management-of-the-database-environment">Management of the database environment<span></span></a></li>
<li><a href="data-administration.html#data-administration-1">Data administration<span></span></a></li>
<li><a href="data-administration.html#database-management-systems-dbmss">Database management systems (DBMSs)<span></span></a></li>
<li><a href="data-administration.html#groupware-1">Groupware<span></span></a></li>
<li><a href="data-administration.html#data-integration">Data integration<span></span></a></li>
<li><a href="data-administration.html#conclusion-9">Conclusion<span></span></a></li>
<li><a href="data-administration.html#exercises-24">Exercises<span></span></a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="graph-databases" class="section level1 hasAnchor" number="12">
<h1><span class="header-section-number">Chapter 12</span> Graph Databases<a href="graph-databases.html#graph-databases" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<blockquote>
<p><em>When we use a network, the most important asset we get is access to one another.</em></p>
<p>Clay Shirky, <em>Cognitive Surplus: Creativity and Generosity in a Connected Age</em>, 2010</p>
</blockquote>
<div id="learning-objectives-11" class="section level3 unnumbered hasAnchor">
<h3>Learning objectives<a href="graph-databases.html#learning-objectives-11" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Students completing this chapter will be able to</p>
<ul>
<li><p>define the features of a labelled property graph database;</p></li>
<li><p>use a graph description language (GDL) to define nodes and relationships;</p></li>
<li><p>use a graph database query language (GQL) to query a graph database;</p></li>
<li><p>identify applications of a graph database.</p></li>
</ul>
</div>
<div id="a-graph-database" class="section level2 unnumbered hasAnchor">
<h2>A graph database<a href="graph-databases.html#a-graph-database" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Relational database technology was developed to support the processing of business transactions and the querying of organizational data. As other applications, such social media developed, the <strong>labeled property database</strong> was introduced to support the processing of relationships between objects, such as people and organizations. Both relational and graph databases are ways of modeling the world, and storing and retrieving data. Like a relational DBMS, a graph DBMS, supports Create, Read, Update, and Delete (CRUD) procedures. Both can be used for online transaction processing and data analytics. The selection of one over the other is dependent on the purpose of the database and the nature of frequent queries. A graph database, for instance, is likely a better choice for supply chain analytics because of the network structure of a supply chain.</p>
<p>A graph is a set of nodes and relationships (edges in graph terminology). A <strong>node</strong> is similar to a relational row in that it stores data about an instance of an entity. In graph database terminology, a node has <strong>properties</strong> rather than attributes. Nodes can also have one or more <strong>labels</strong>, which are used to group nodes together and indicate their one or more roles in the domain of interest. Think of a group of nodes with a common label as an entity.</p>
<p>In a graph database, a <strong>relationship</strong> is explicitly defined to connect a pair of nodes, and can have properties, whereas, in a relational database, a relationship is represented by a pair of primary and foreign keys.</p>
<p>A <strong>graph description language</strong> (GDL) defines labels, nodes, and the properties of nodes and relationships. A GDL statement defines a specific entry in a graph database. It is like the INSERT statement of SQL. In a relational database you first define a table and then insert rows for specific instances, but in a graph database you start by defining nodes. There is no equivalent of the SQL CREATE TABLE command.</p>
<p>The properties of a node or relationship are specified as a <strong>key:value pair</strong>. A key is a unique identifier for some item of data (e.g., the NYSE code for a listed stock), and a value is data associated with the key (e.g., AAPL for Apple). When specifying properties of nodes or relationships, a key remains fixed and its values change for different instances. The following piece of code has two key-value pairs, and for the first, the key is StockCode and its value is “AR”. Similarly, Price is a key with the value 31.82.</p>
<pre class="cypher"><code>StockCode: &quot;AR&quot;, Price: 31.82</code></pre>
<div id="property-data-types" class="section level3 unnumbered hasAnchor">
<h3>Property data types<a href="graph-databases.html#property-data-types" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For the value component of a property’s key:value pair, the possible data types are:</p>
<ul>
<li><p>Numeric: Integer or Float</p></li>
<li><p>String</p></li>
<li><p>Boolean</p></li>
<li><p>Spatial: Point</p></li>
<li><p>Temporal: Date, Time, LocalTime, DateTime, LocalDateTime, or Duration</p></li>
</ul>
<p>A graph database is quite flexible because you can readily add nodes, relationships, and properties, while a relational database limits inserts of new data elements to the data type of columns previously defined for a table. Because there is no equivalent to defining a table in a graph database, you start by inserting nodes, relationships, and properties. Relationships are pliant, and a relationship could change from 1:m to m:m simply by adding a relationship that results in an m:m between two nodes. New additions can be made without the need to rewrite existing queries or recode applications.</p>
<p>Flexibility, like rigidity, has its pros and cons. Flexibility allows for new features of the environment to be quickly incorporated into a database, but at the same time it can lead to inconsistencies if nodes or properties of the same type have different keys. For example, the property for representing an employee’s first name sometimes has a key of firstName and other times a key of fname. Rather than rushing into database creation, some initial modeling of the domain and the construction of a data dictionary is likely to be fruitful in the long run.</p>
<p>In summary, the key features of a labelled property graph database are:</p>
<ul>
<li><p>It consists of nodes and relationships;</p></li>
<li><p>Nodes and relationships can have properties in the form of key:value pairs;</p></li>
<li><p>A node can have one more labels;</p></li>
<li><p>Relationships are between a pair of nodes;</p></li>
<li><p>Relationships must be named.</p></li>
</ul>
<p><strong>Cypher</strong> is a combined graph description language (GDL) and graph query languages (GQL) for graph databases. Originally designed for the Neo4j graph database, it is now, in the form of Cypher 9, governed by the <a href="https://www.opencypher.org">openCypher Implementation Group</a>. Cypher is used in open source projects (e.g., Apache Spark) and commercial products (e.g., SAP HANA). These actions indicate that Cypher will likely emerge as the industry standard language for labelled property graphs. In parallel, ISO has launched a project to create <a href="https://www.gqlstandards.org">a new query language</a> for graph databases based on openCypher and other GQLs.</p>
</div>
</div>
<div id="neo4j-a-graph-database-implementation" class="section level2 unnumbered hasAnchor">
<h2>Neo4j – a graph database implementation<a href="graph-databases.html#neo4j-a-graph-database-implementation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Neo4j is a popular labeled property graph database that supports Cypher and has a free community download. These features make it suitable for learning how to create and use a graph database. To get started, download <a href="https://neo4j.com/download/">Neo4j Desktop</a> and follow the installation and launch guide to create a project and open your browser.</p>
<div id="a-single-node" class="section level3 unnumbered hasAnchor">
<h3>A single node<a href="graph-databases.html#a-single-node" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We’ll start, as we did with the relational model, with a simple example of a set of nodes with the same label of Stock. There is no relationship between nodes. The following is a visualization of the data model. As the focus is on the graph structure, the properties of a node (a circle) are distributed around the edges of the model in rectangles.</p>
<p><em>A graph data model for a portfolio of stocks</em></p>
<p><img src="Figures/Chapter%2012/graph-portfolio.png" /></p>
<p>The Cypher code for creating a node for Stock is:</p>
<pre class="cypher"><code>CREATE (:Stock {StockCode: &quot;AR&quot;, Firm: &quot;Abyssinian Ruby&quot;,
Price: 31.82, Qty: 22020, Div: 1.32, PE: 13});</code></pre>
</div>
<div id="inserting-nodes" class="section level3 unnumbered hasAnchor">
<h3>Inserting nodes<a href="graph-databases.html#inserting-nodes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Usually, the data to populate a database exist in digital format, and if you can convert them to CSV format, such as an export of a spreadsheet, then you can use Cypher’s LOAD CSV command. The following code will create the nodes for each of the rows in a remote CSV file and return a count of how many nodes were created. You can load a local file by specifying a path rather than a url.</p>
<pre class="cypher"><code>LOAD CSV WITH HEADERS FROM &quot;https://www.richardtwatson.com/data/stock.csv&quot; AS row
CREATE (s:Stock {StockCode: row.stkcode, Firm: row.stkfirm,
    Price: toFloat(row.stkprice), Qty: toInteger(row.stkqty), Div: toFloat(row.stkdiv),     PE: toInteger(row.stkpe)})
RETURN count(s);</code></pre>
<p>The preceding code:</p>
<ul>
<li><p>Specifies the url of the external CSV file with the temporary name row;</p></li>
<li><p>Creates a node with the label Stock and the temporary identifier s;</p></li>
<li><p>Reads a row at a time and converts the format, as appropriate, since all data are read as character strings. For example, toFloat(row.stkprice) AS Price reads a cell in the stkprice column on the input file, converts it to float format and associates it with the key Price to create a key:value pair for the node identified by StockCode.</p></li>
</ul>
<p>When the preceding code is executed, it creates 16 unconnected nodes, as shown in the following figure.</p>
<p><em>Visualization of unrelated nodes in graph</em></p>
<p><img src="Figures/Chapter%2012/unrelated-nodes.png" /></p>
</div>
<div id="querying-a-node" class="section level3 unnumbered hasAnchor">
<h3>Querying a node<a href="graph-databases.html#querying-a-node" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This section mimics Chapter Three’s coverage of querying a single entity database. Many of the same queries are defined in Cypher code. As you should now have a clear idea of the results of a query, they are not shown in this chapter. You can alway run them with the Neo4j browser and look at the different forms of output it provides.</p>
</div>
<div id="displaying-data-for-nodes-with-the-same-label" class="section level3 unnumbered hasAnchor">
<h3>Displaying data for nodes with the same label<a href="graph-databases.html#displaying-data-for-nodes-with-the-same-label" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>MATCH is Cypher’s equivalent of SELECT. A MATCH statement can report the properties for a particular type of node. Each node has an associated temporary identifier which is usually short (e.g., s). In this case, RETURN s, lists all the properties of Stock.</p>
<p><em>List all Stock data</em></p>
<pre class="cypher"><code>MATCH (s:Stock)
RETURN s;</code></pre>
</div>
<div id="reporting-properties" class="section level3 unnumbered hasAnchor">
<h3>Reporting properties<a href="graph-databases.html#reporting-properties" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The Cypher code for the equivalent of a relational project defines the keys of the properties to be displayed. Notice how a key is prefixed with the temporary name for the node (i.e., s) to fully identify it (e.g., s.Firm) and the use of AS to rename it for reporting (e.g., s.Firm AS Firm)</p>
<p><em>Report a firm’s name and price-earnings ratio.</em></p>
<pre class="cypher"><code>MATCH (s:Stock)
RETURN s.Firm AS Firm, s.PE AS PE;</code></pre>
</div>
<div id="reporting-nodes" class="section level3 unnumbered hasAnchor">
<h3>Reporting nodes<a href="graph-databases.html#reporting-nodes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The Cypher code for the equivalent of a relational restrict also uses a WHERE clause to specify which nodes are reported. Neo4j supports the same arithmetic, Boolean, and comparison operators as SQL for use with WHERE.</p>
<p><em>Get all firms with a price-earnings ratio less than 12.</em></p>
<pre class="cypher"><code>MATCH (s:Stock)
WHERE s.PE &lt; 12
RETURN s;</code></pre>
</div>
<div id="reporting-properties-and-nodes" class="section level3 unnumbered hasAnchor">
<h3>Reporting properties and nodes<a href="graph-databases.html#reporting-properties-and-nodes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A single Cypher MATCH statement can specify which properties of which nodes to report.</p>
<p><em>List the name, price, quantity, and dividend of each firm where the share holding is at least 100,000.</em></p>
<pre class="cypher"><code>MATCH (s:Stock)
WHERE s.Qty &gt; 100000
RETURN s.Firm AS Firm, s.Price AS Price, s.Qty AS Quantity, s.Div AS Dividend;</code></pre>
</div>
<div id="in-for-a-list-of-values" class="section level3 unnumbered hasAnchor">
<h3>IN for a list of values<a href="graph-databases.html#in-for-a-list-of-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As with SQL, the keyword IN is used with a list to specify a set of values.</p>
<p><em>Report data on firms with codes of FC, AR, or SLG.</em></p>
<pre class="cypher"><code>MATCH (s:Stock)
WHERE s.StockCode IN [&#39;FC&#39;,&#39;AR&#39;,&#39;SLG&#39;]
RETURN s;</code></pre>
<blockquote>
<p>❓ <em>Skill builder</em></p>
<p>List those shares where the value of the holding exceeds one million.</p>
</blockquote>
</div>
<div id="ordering-rows-1" class="section level3 unnumbered hasAnchor">
<h3>Ordering rows<a href="graph-databases.html#ordering-rows-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In Cypher, the ORDER BY clause sorts based on the value of one or more properties.</p>
<p><em>List all firms where the PE is at least 10, and order the report in descending PE. Where PE ratios are identical, list firms in alphabetical order.</em></p>
<pre class="cypher"><code>MATCH (s:Stock)
WHERE s.PE &gt;= 10
RETURN s
ORDER BY s.PE DESC, s.Firm;</code></pre>
</div>
<div id="derived-data-1" class="section level3 unnumbered hasAnchor">
<h3>Derived data<a href="graph-databases.html#derived-data-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Calculations can be included in a query.</p>
<p><em>Get firm name, price, quantity, and firm yield.</em></p>
<pre class="cypher"><code>MATCH (s:Stock)
RETURN s.Firm AS Firm, s.Price AS Price, s.Qty AS Quantity,
s.Div/s.Price*100 AS Yield;</code></pre>
</div>
<div id="aggregate-functions-2" class="section level3 unnumbered hasAnchor">
<h3>Aggregate functions<a href="graph-databases.html#aggregate-functions-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Cypher has built-in functions similar to those of SQL, as the following two examples illustrate.</p>
<div id="count-1" class="section level4 unnumbered hasAnchor">
<h4>COUNT<a href="graph-databases.html#count-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><em>How many firms are there in the portfolio?</em></p>
<pre class="cypher"><code>MATCH (s:Stock)
RETURN count(s);</code></pre>
</div>
<div id="avg" class="section level4 unnumbered hasAnchor">
<h4>AVG<a href="graph-databases.html#avg" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>What is the average yield for the portfolio?</p>
<pre class="cypher"><code>MATCH (s:Stock)
RETURN avg(s.Div/s.Price*100) As `Average yield`;</code></pre>
<p>In the prior query, note how you use an angle quote (`), rather than a straight quote, to specify a column header that contains spaces.</p>
</div>
</div>
<div id="string-handling" class="section level3 unnumbered hasAnchor">
<h3>String handling<a href="graph-databases.html#string-handling" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Cypher includes functions for string handling and supports regular expressions. The string functions are typical of those in other programming languages, such as toLower(), toUpper(), toString(), left(), right(), substring(), and replace(). For a complete list, see the <a href="https://neo4j.com/docs/cypher-manual/current/">Cypher manual</a>.</p>
<p>Cypher supports regular expression using the syntax of Java’s regular expressions.</p>
<p><em>List the names of firms with a double ‘e’.</em></p>
<p>In the following code, the regular expression looks for any number of characters at the beginning or end of each string (.*) with two consecutive ’e’s ([e]{2}) in between.</p>
<pre class="cypher"><code>MATCH (s:Stock)
WHERE s.Firm =~ &#39;.*[e]{2}.*&#39;
RETURN s.Firm;</code></pre>
<p>You can also express the query using the Cypher CONTAINS clause, as follows:</p>
<pre class="cypher"><code>MATCH (s:Stock)
WHERE s.Firm CONTAINS &#39;ee&#39;
RETURN s.Firm;</code></pre>
</div>
<div id="subqueries-2" class="section level3 unnumbered hasAnchor">
<h3>Subqueries<a href="graph-databases.html#subqueries-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A subquery requires you to determine the answer to another query before you can write the query of ultimate interest. The WITH clause chains subqueries by forwarding the results from one subquery to the next. For example, to list all shares with a PE ratio greater than the portfolio average, you first must find the average PE ratio for the portfolio, and then use the computed value in a second query.</p>
<p><em>Report all firms with a PE ratio greater than the average for the portfolio.</em></p>
<pre class="cypher"><code>MATCH (s:Stock)
WITH AVG(s.PE) AS AvgPE
MATCH (s:Stock)
WHERE s.PE &gt; AvgPE
RETURN s.Firm AS FIRM, s.PE as PE;</code></pre>
</div>
</div>
<div id="a-relationship-between-nodes" class="section level2 unnumbered hasAnchor">
<h2>A relationship between nodes<a href="graph-databases.html#a-relationship-between-nodes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We will use the data model in Chapter Four that records details of stocks listed in difference countries for illustrating a 1:m relationship between nodes. When developing a graph model, common nouns become labels (e.g., stock and country) and verbs become relationships. In the phrase “a nations lists many stocks,” we could extract the verb lists to use as a relationship name.</p>
<p>A graphical data model for an international portfolio of stocks</p>
<p><img src="Figures/Chapter%2012/graph-nation-stock.png" /></p>
<p>In this case, a country can list many stocks. First, we need to add four nation nodes to the graph database, as follows:</p>
<pre class="cypher"><code>LOAD CSV WITH HEADERS FROM &quot;https://www.richardtwatson.com/data/nation.csv&quot; AS row
CREATE (n:Nation {NationCode: row.natcode, Nation: row.natname, ExchRate: toFloat(row.exchrate)})
RETURN count(n);</code></pre>
<div id="specifying-relationships-in-cypher" class="section level3 unnumbered hasAnchor">
<h3>Specifying relationships in Cypher<a href="graph-databases.html#specifying-relationships-in-cypher" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Relationships are represented in Cypher using an arrow, either -&gt; or &lt;-, between two nodes. A node can have relationships to itself (i.e., recursive). In Neo4j, all relationships are directed (i.e., they are -&gt; or &lt;-).</p>
<p>The nature of the relationship is defined within square brackets, such as [:LISTS] in the case where a nation lists a stock on its exchange:</p>
<pre class="cypher"><code>(n:Nation)-[:LISTS]-&gt;(s:Stock);</code></pre>
<p>If you want to refer to a relationship later in a query, you can define a temporary name. In the follow code sample, r is the temporary name for referring to the relationship LISTS.</p>
<pre class="cypher"><code>MATCH (n:Nation)-[r:LISTS]-&gt;(s:Stock)</code></pre>
<p>Relationships can also have properties. The Cypher code for stating that Bombay Duck was listed in India on 2019-11-10 is:</p>
<pre class="cypher"><code>MATCH (s:Stock), (n:Nation)
WHERE s.StockCode = &quot;BD&quot; AND n.NationCode = &quot;IND&quot;
CREATE (n)-[r:LISTS {Listed: date(&#39;2019-11-10&#39;)}]-&gt;(s)
RETURN r;</code></pre>
<p>The WHERE clause specifies that nodes Bombay Duck and India are related. The third line of code creates the relationship by stating one nation, abbreviated as n, can list many stocks, abbreviated as s. The name of the relationship, LISTS, has the temporary name of r, which is is used in the RETURN r statement.</p>
<p>Rather than have to match each country and its listed shares as separate code chunks as with Bombay Duck, we can reread the stock file, stock.csv, because it has a column containing the nation code of the listing country. We match this code with a Nation node having the same value for nation code to create the relationship. In other words, the Cypher code creates the relationship by reading each row of stock.csv and matching its value for row.natcode with a Nation node that has the same value for the key NatCode. This is the same logic as matching a primary and foreign key to join two tables.</p>
<pre class="cypher"><code>LOAD CSV WITH HEADERS FROM &quot;https://www.richardtwatson.com/data/stock.csv&quot; AS row
MATCH (n:Nation {NationCode: row.natcode})
MATCH (s:Stock {StockCode: row.stkcode})
CREATE (n)-[r:LISTS]-&gt;(s)
RETURN r;</code></pre>
</div>
<div id="querying-relationships" class="section level3 unnumbered hasAnchor">
<h3>Querying relationships<a href="graph-databases.html#querying-relationships" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When defining relationship in a graph database, a programmer is effectively pre-specifying how two tables are joined. As a result, querying is slightly different from the relational style. Consider the following request:</p>
<p><em>Report the value of each stockholding in UK pounds. Sort the report by nation and firm.</em></p>
<p>The first step is define the relationship between the two nodes that contains the required properties to compute the value of the stockholding and then define the properties to be reported, the computation, and finally the sorting of the report.</p>
<pre class="cypher"><code>MATCH (n:Nation)-[:LISTS]-&gt;(s:Stock)
RETURN n.Nation AS Nation, s.Firm AS Firm, s.Price AS Price, s.Qty as Quantity,
round(s.Price*s.Qty*n.ExchRate) AS Value
ORDER BY Nation, Firm</code></pre>
</div>
<div id="withreporting-by-groups" class="section level3 unnumbered hasAnchor">
<h3>WITH—reporting by groups<a href="graph-databases.html#withreporting-by-groups" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The WITH clause permits grouping nodes and it produces one row for each different value of the grouping node. The following example computes the value of the shareholding in UK pounds for each nation.</p>
<p><em>Report by nation the total value of stockholdings.</em></p>
<pre class="cypher"><code>MATCH (n:Nation)-[:LISTS]-&gt;(s:Stock)
WITH n, round(sum(s.Price*s.Qty*n.ExchRate)) as Value
RETURN n.Nation AS Nation, Value;</code></pre>
<p>Cypher’s built-in functions (COUNT, SUM, AVERAGE, MIN, and MAX) can be used similarly to their SQL partners. They are applied to a group of rows having the same value for a specified column.</p>
<p><em>Report the number of stocks and their total value by nation.</em></p>
<pre class="cypher"><code>MATCH (n:Nation)-[:LISTS]-&gt;(s:Stock)
WITH n, count(s.StockCode) as Stocks, round(sum(s.Price*s.Qty*n.ExchRate)) as Value
RETURN n.Nation AS Nation, Stocks, Value;</code></pre>
<blockquote>
<p>❓ <em>Skill builder</em></p>
<p>Report by nation the total value of dividends.</p>
</blockquote>
</div>
<div id="querying-an-mm-relationship-1" class="section level3 unnumbered hasAnchor">
<h3>Querying an m:m relationship<a href="graph-databases.html#querying-an-mm-relationship-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In a graph database, a relationship replaces the associative entity used in a relationship model for representing an m:m. In the following graph model we could have indicated that an item can appear in many sales and a sale can have many items. For bidirectional relationships, ignore the direction when querying rather than create two relations.</p>
<p><em>A graph data model for sales</em></p>
<p><img src="Figures/Chapter%2012/graph-sales.png" /></p>
<p>The sales example discussed in Chapter Five illustrates how to handle a many-to-many situation. We first load these data and then define the relationship. Notice that SET is used to establish the values of price and quantity properties of the relationship, which in a relational model are attributes of the associative entity. In practice, as each transaction occurs, an entry would be generated for each item sold.</p>
<pre class="cypher"><code>LOAD CSV WITH HEADERS FROM &quot;https://www.richardtwatson.com/data/item.csv&quot; AS row
CREATE (i:Item {ItemNo: toInteger(row.itemno), ItemName: row.itemname, ItemType: row.itemtype, ItemColor: row.itemcolor})
RETURN count(i);

LOAD CSV WITH HEADERS FROM &quot;https://www.richardtwatson.com/data/sale.csv&quot; AS row
CREATE (s:Sale {SaleNo: toInteger(row.saleno), SaleDate: date(row.saledate), SaleText: row.saletext})
RETURN count(s);

LOAD CSV WITH HEADERS FROM &quot;https://www.richardtwatson.com/data/receipt.csv&quot; AS row
MATCH (s:Sale {SaleNo: toInteger(row.saleno)})
MATCH (i:Item {ItemNo: toInteger(row.itemno)})
CREATE (s)-[r:CONTAINS]-&gt;(i)
SET r.Price = toFloat(row.receiptprice), r.Qty = toInteger(row.receiptqty);</code></pre>
<p>Once you have created the database, click on the CONTAINS relationship to get a visual of the database, as shown in the following figure. The nodes with numbers, SaleNo, are sales.</p>
<p><em>A view of the relationships between sales and items.</em></p>
<p><img src="Figures/Chapter%2012/view-sales-items.png" /></p>
<p>Here is an example of Cypher code for querying the graph for items and sales.</p>
<p><em>List the name, quantity, price, and value of items sold on January 16, 2011.</em></p>
<pre class="cypher"><code>MATCH (s: Sale)-[r:CONTAINS]-&gt;(i: Item)
WHERE s.SaleDate = date(‘2011-01-16&#39;)
RETURN i.ItemName AS Item, r.Qty as Quantity, r.Price as Price, r.Qty*r.Price AS Total;</code></pre>
<p>The preceding query could also be written as:</p>
<pre class="cypher"><code>MATCH (s: Sale {SaleDate: date(&#39;2011-01-16&#39;)})-[r:CONTAINS]-&gt;(i: Item)
RETURN i.ItemName AS Item, r.Qty as Quantity, r.Price as Price, r.Qty*r.Price AS Total;</code></pre>
</div>
<div id="does-a-relationship-exist" class="section level3 unnumbered hasAnchor">
<h3>Does a relationship exist?<a href="graph-databases.html#does-a-relationship-exist" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>MATCH can be used to determine whether a particular relationship exists between two nodes by specifying the pattern of the sought relationship. The first query reports details of nodes satisfying a relationship.</p>
<p><em>Report all clothing items (type “C”) for which a sale is recorded.</em></p>
<pre class="cypher"><code>MATCH (s: Sale)-[:CONTAINS]-&gt;(i:Item {ItemType: &#39;C&#39;})
RETURN DISTINCT i.ItemName AS Item, i.ItemColor AS Color;</code></pre>
<p>The second query reports details of nodes not satisfying a relationship.</p>
<p><em>Report all clothing items that have not been sold.</em></p>
<p>The query has a two stage process. First, identify all the items that have been sold and save their item numbers in SoldItems. Then, subtract this list from the the list of all items of type C to find the items not sold. This is similar to using a minus in SQL.</p>
<pre class="cypher"><code>MATCH (s: Sale)-[:CONTAINS]-&gt;(i:Item {ItemType: &#39;C&#39;})
WITH COLLECT (DISTINCT i.ItemNo) AS SoldItems
MATCH (i: Item)
WHERE i.ItemType = &#39;C&#39; AND NOT (i.ItemNo IN SoldItems)
RETURN DISTINCT i.ItemName AS Item, i.ItemColor AS Color;</code></pre>
<blockquote>
<p>❓ <em>Skill builder</em></p>
<p>Report all red items that have not been sold.</p>
</blockquote>
</div>
<div id="recursive-relationships" class="section level3 unnumbered hasAnchor">
<h3>Recursive relationships<a href="graph-databases.html#recursive-relationships" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As you will recall, in data modeling a recursive relationship relates an entity to itself. It maps one instance in the entity to another instance of that entity. In graph terms, recursion relates nodes with the same label. The following diagram represents the previously discussed 1:1 monarch succession as graph.</p>
<p><em>A graph model for monarch</em></p>
<p><img src="Figures/Chapter%2012/graph-monarch.png" /></p>
<p>To assist with understanding the monarch model, we repeat the prior data.</p>
<p><em>Recent British monarchs</em></p>
<table>
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Number</th>
<th align="left">Reign begin</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">King</td>
<td align="left">William</td>
<td align="left">IV</td>
<td align="left">1830-06-26</td>
</tr>
<tr class="even">
<td align="left">Queen</td>
<td align="left">Victoria</td>
<td align="left">I</td>
<td align="left">1837-06-20</td>
</tr>
<tr class="odd">
<td align="left">King</td>
<td align="left">Edward</td>
<td align="left">VII</td>
<td align="left">1901-01-22</td>
</tr>
<tr class="even">
<td align="left">King</td>
<td align="left">George</td>
<td align="left">V</td>
<td align="left">1910-05-06</td>
</tr>
<tr class="odd">
<td align="left">King</td>
<td align="left">Edward</td>
<td align="left">VIII</td>
<td align="left">1936-01-20</td>
</tr>
<tr class="even">
<td align="left">King</td>
<td align="left">George</td>
<td align="left">VI</td>
<td align="left">1936-12-11</td>
</tr>
<tr class="odd">
<td align="left">Queen</td>
<td align="left">Elizabeth</td>
<td align="left">II</td>
<td align="left">1952-02-06</td>
</tr>
</tbody>
</table>
<p>In the following Cypher code, observe the use of MATCH to connect each predecessor and successor monarch pair and the use of SET to define the succession date as a property of the succession relationship.</p>
<pre class="cypher"><code>LOAD CSV WITH HEADERS FROM &quot;https://www.richardtwatson.com/data/monarch.csv&quot; AS row
CREATE (m: Monarch {Type: row.montype, Name: row.monname, Number: row.monnum})
RETURN count(m);

MATCH (p:Monarch), (s:Monarch) // p for predecessor and s for successor
WHERE p.Name = &#39;William&#39; AND p.Number = &#39;IV&#39; AND s.Name = &#39;Victoria&#39; AND s.Number = &#39;I&#39;
CREATE (s)-[r:SUCCEEDED]-&gt;(p)
SET r.Date = date(&#39;1837-06-20&#39;)
RETURN(r);

MATCH (p:Monarch), (s:Monarch)
WHERE p.Name = &#39;Victoria&#39; AND p.Number = &#39;I&#39; AND s.Name = &#39;Edward&#39; AND s.Number = &#39;VII&#39;
CREATE (s)-[r:SUCCEEDED]-&gt;(p)
SET r.Date = date(&#39;1901-01-22&#39;)
RETURN(r);

MATCH (p:Monarch), (s:Monarch)
WHERE p.Name = &#39;Edward&#39; AND p.Number = &#39;VII&#39; AND s.Name = &#39;George&#39; AND s.Number = &#39;V&#39;
CREATE (s)-[r:SUCCEEDED]-&gt;(p)
SET r.Date = date(&#39;1910-05-06&#39;)
RETURN(r);

MATCH (p:Monarch), (s:Monarch)
WHERE p.Name = &#39;George&#39; AND p.Number = &#39;V&#39; AND s.Name = &#39;Edward&#39; AND s.Number = &#39;VIII&#39;
CREATE (s)-[r:SUCCEEDED]-&gt;(p)
SET r.Date = date(&#39;1936-01-20&#39;)
RETURN(r);

MATCH (p:Monarch), (s:Monarch)
WHERE p.Name = &#39;Edward&#39; AND p.Number = &#39;VIII&#39; AND s.Name = &#39;George&#39; AND s.Number = &#39;VI&#39;
CREATE (s)-[r:SUCCEEDED]-&gt;(p)
SET r.Date = date(&#39;1936-12-11&#39;)
RETURN(r);

MATCH (p:Monarch), (s:Monarch)
WHERE p.Name = &#39;George&#39; AND p.Number = &#39;VI&#39; AND s.Name = &#39;Elizabeth&#39; AND s.Number = &#39;II&#39;
CREATE (s)-[r:SUCCEEDED]-&gt;(p)
SET r.Date = date(&#39;1952-02-06&#39;)
RETURN r;</code></pre>
<p>The following figure shows the graph produced by Neo4j.</p>
<p><em>Monarch succession graph</em></p>
<p><img src="Figures/Chapter%2012/monarch-succession.png" /></p>
</div>
<div id="querying-a-recursive-relationship" class="section level3 unnumbered hasAnchor">
<h3>Querying a recursive relationship<a href="graph-databases.html#querying-a-recursive-relationship" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Some queries on the monarch graph database demonstrate the ease of querying a recursive relationship. Observe how to concatenate strings by using a plus (+) sign.</p>
<p><em>Who preceded Victoria I?</em></p>
<pre class="cypher"><code>MATCH (s)-[r:SUCCEEDED]-&gt;(p)
WHERE s.Name = &#39;Victoria&#39;
RETURN (p.Type + &#39; &#39; + p.Name + &#39; &#39; + p.Number);</code></pre>
<p><em>Who succeeded Victoria I?</em></p>
<pre class="cypher"><code>MATCH (s)-[r:SUCCEEDED]-&gt;(p)
WHERE p.Name = &#39;Victoria&#39;
RETURN (s.Type + &#39; &#39; + s.Name + &#39; &#39; + s.Number);</code></pre>
<p><em>List the kings and queens of England in ascending chronological order.</em></p>
<pre class="cypher"><code>MATCH (s)-[r:SUCCEEDED]-&gt;(p)
RETURN (s.Type + &#39; &#39; + s.Name + &#39; &#39; + s.Number)
ORDER BY r.Date;</code></pre>
<p>We see the power of a Cypher for querying a recursive relationship with the following query that uses *2 in the relationship pattern to select the second node in a chain of relationships.</p>
<p><em>Who was Elizabeth II’s predecessor’s predecessor?</em></p>
<pre class="cypher"><code>MATCH (s)-[r:SUCCEEDED*2]-&gt;(p)
WHERE s.Name = &#39;Elizabeth&#39; and s.Number = &#39;II&#39;
RETURN (p.Type + &#39; &#39; + p.Name + &#39; &#39; + p.Number);</code></pre>
<p>We can also select a series of nodes in a chain, and in the following example the first to third are selected by specifying *1..3 in the relationship pattern.</p>
<p><em>Who were Elizabeth II’s three immediate predecessors?</em></p>
<pre class="cypher"><code>MATCH (s)-[r:SUCCEEDED*1..3]-&gt;(p)
WHERE s.Name = &#39;Elizabeth&#39; and s.Number = &#39;II&#39;
RETURN (p.Type + &#39; &#39; + p.Name + &#39; &#39; + p.Number);</code></pre>
<p>The modeling and querying of 1:m and m:m recursive relationships are almost identical. Consider the case where an employee is the boss of other employees, then this could be expressed as:</p>
<pre class="cypher"><code>MATCH (b:Employee), (e:Employee) // b for boss and e for employee
WHERE b.EmpCode = 1 AND e.EmpCode IN [2, 15, 23]
CREATE (b)-[r:IS_BOSS_OF]-&gt;(e);</code></pre>
<p>and a query might start with:</p>
<pre class="cypher"><code>MATCH (b)-[r:IS_BOSS_OF]-&gt;(e)</code></pre>
<p>For a recursive m:m, such as a bill of materials, we might write:</p>
<pre class="cypher"><code>MATCH (a:Part), (p:Part) // a for assembly and p for part
WHERE a.PartCode = 1 AND p.PartCode IN [2,35,4,19,121]
CREATE (a)-[r:CONTAINS]-&gt;p;</code></pre>
</div>
<div id="indexes-and-constraints" class="section level3 unnumbered hasAnchor">
<h3>Indexes and constraints<a href="graph-databases.html#indexes-and-constraints" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To speed up processing, indexes can be created on labels and property combinations. For example, the following code indexes the Stock label on the values of StockCode.</p>
<pre class="cypher"><code>CREATE INDEX ON :Stock(StockCode);</code></pre>
<p>If you wanted to ensure all nation codes are unique, you would code:</p>
<pre class="cypher"><code>CREATE CONSTRAINT ON (n:Nation) ASSERT n.NatCode IS UNIQUE;</code></pre>
</div>
<div id="remove-duplicates" class="section level3 unnumbered hasAnchor">
<h3>Remove duplicates<a href="graph-databases.html#remove-duplicates" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As with SQL, DISTINCT will remove duplicates from the results of a query.</p>
<pre class="cypher"><code>MATCH (s:Stock)
RETURN DISTINCT s.PE AS PE;</code></pre>
</div>
<div id="delete-all-nodes-and-relationships" class="section level3 unnumbered hasAnchor">
<h3>Delete all nodes and relationships<a href="graph-databases.html#delete-all-nodes-and-relationships" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To start afresh, use the following code to delete all nodes and relationships:</p>
<pre class="cypher"><code>MATCH (a)
OPTIONAL MATCH (a)-[r]-()
DELETE a, r</code></pre>
</div>
<div id="conclusion-2" class="section level3 unnumbered hasAnchor">
<h3>Conclusion<a href="graph-databases.html#conclusion-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Graph databases are suitable for a wide range of common business problems. Graph analytics, in general, is useful for addressing three types of questions: How do things spread? What are the capacities, costs, and control points? How do things interact, and will that change?<a href="data-administration.html#fn23" class="footnote-ref" id="fnref23"><sup>23</sup></a></p>
</div>
<div id="summary-12" class="section level3 unnumbered hasAnchor">
<h3>Summary<a href="graph-databases.html#summary-12" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A labeled property graph database consists of nodes and relationships. Both nodes and relationships can have properties. A relationship is explicitly defined to connect a pair of nodes, and can have properties. Nodes and relationships can have properties in the form of key:value pairs. Nodes can be given one or more labels to group them. A graph description language (GDL) defines nodes and relationships. A graph query language (GQL) enables querying. Cypher is a GDL and GQL. A graph database is a good choice when many queries are about the network of relationships between nodes.</p>
</div>
</div>
<div id="key-terms-and-concepts-9" class="section level2 unnumbered hasAnchor">
<h2>Key terms and concepts<a href="graph-databases.html#key-terms-and-concepts-9" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<table>
<tbody>
<tr class="odd">
<td align="left">Edge</td>
<td align="left">Node</td>
</tr>
<tr class="even">
<td align="left">Graph</td>
<td align="left">Property</td>
</tr>
<tr class="odd">
<td align="left">Label</td>
<td align="left">Relationship</td>
</tr>
</tbody>
</table>
<div id="references-and-additional-resources" class="section level3 unnumbered hasAnchor">
<h3>References and additional resources<a href="graph-databases.html#references-and-additional-resources" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Francis, N., Green, A., Guagliardo, P., Libkin, L., Lindaaker, T., Marsault, V., . . . Taylor, A. (2018). Cypher: An evolving query language for property graphs. Paper presented at the Proceedings of the 2018 International Conference on Management of Data. <a href="https://dl.acm.org/doi/10.1145/3183713.3190657" class="uri">https://dl.acm.org/doi/10.1145/3183713.3190657</a>.</p>
<p>Robinson, I., Webber, J., &amp; Eifrem, E. (2013). <em>Graph databases</em>: O’Reilly Media, Inc. ISBN: 1449356249</p>
<p>The following exercises are based on the NorthWinds graph database, which you can create on your compter by running the supplied <a href="https://www.richardtwatson.com/open/Reader/northwind.cypher">code</a>.</p>
</div>
</div>
<div id="exercises-12" class="section level2 unnumbered hasAnchor">
<h2>Exercises<a href="graph-databases.html#exercises-12" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li><p>Write Cypher code for the following queries.</p>
<ol style="list-style-type: lower-alpha">
<li><p>How many employees are there in the company?</p></li>
<li><p>Prepare a list of employees by last name, first name, and job title. Sort by last name.</p></li>
<li><p>List the products that contain ‘sauce’ in their product description.</p></li>
<li><p>In what category are sauces?</p></li>
<li><p>List in alphabetical order those customers have placed an order.</p></li>
<li><p>List in alphabetical order those customers who have not placed an order.</p></li>
<li><p>Which customers have purchased ‘Chai’?</p></li>
<li><p>List the amount ordered by each customer by the value of the order.</p></li>
<li><p>List the products in each category.</p></li>
<li><p>How many products in each category?</p></li>
<li><p>What is the minimum value of a received order?</p></li>
<li><p>Who is the customer who placed the minimum value order?</p></li>
<li><p>Report total value of orders for Blauer See Delikatessen.</p></li>
<li><p>Who reports to Andrew Fuller? Report by last name alphabetically and concatenate first and last names for each person.</p></li>
<li><p>Report those employees who have sold to Blauer See Delikatessen.</p></li>
<li><p>Report the total value of orders by year.</p></li>
</ol></li>
<li><p><strong>Basket of goods analysis</strong>: A common retail analytics task is to analyze each basket or order to learn what products are often purchased together. Report the names of products that appear in the same order three or more times.</p></li>
<li><p><strong>ABC reporting:</strong> Compute the revenue generated by each customer based on their orders. Also, show each customer’s revenue as a percentage of total revenue. Sort by customer name.</p></li>
<li><p><strong>Same as Last Year (SALY) analysis</strong>: Compute the ratio for each product of sales for 1997 versus 1996.</p></li>
</ol>
<p><em>Graph model for NorthWinds</em></p>
<p><img src="Figures/Chapter%2012/graph-NorthWinds.png" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="spatial-and-temporal-data-management.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="xml-managing-data-exchange.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["DataManagement.pdf", "DataManagement.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
