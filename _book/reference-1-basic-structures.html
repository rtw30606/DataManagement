<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Reference 1: Basic Structures | DataManagement.knit</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Reference 1: Basic Structures | DataManagement.knit" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Reference 1: Basic Structures | DataManagement.knit" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-modeling.html"/>
<link rel="next" href="normalization-and-other-data-modeling-methods.html"/>
<script src="libs/header-attrs-2.12/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="data-management-databases-and-organizations.html#data-management-databases-and-organizations">Data Management: Databases and Organizations<span></span></a></li>
<li><a href="preface.html#preface">Preface<span></span></a>
<ul>
<li><a href="preface.html#supplements">Supplements<span></span></a></li>
<li><a href="preface.html#acknowledgments">Acknowledgments<span></span></a></li>
</ul></li>
<li><a href="section-1-the-managerial-perspective.html#section-1-the-managerial-perspective">Section 1 The Managerial Perspective<span></span></a></li>
<li class="chapter" data-level="1" data-path="managing-data.html"><a href="managing-data.html"><i class="fa fa-check"></i><b>1</b> Managing Data<span></span></a>
<ul>
<li><a href="managing-data.html#introduction">Introduction<span></span></a></li>
<li><a href="managing-data.html#individual-data-management">Individual data management<span></span></a></li>
<li><a href="managing-data.html#organizational-data-management">Organizational data management<span></span></a></li>
<li><a href="managing-data.html#problems-with-data-management-systems">Problems with data management systems<span></span></a></li>
<li><a href="managing-data.html#a-brief-history-of-data-management-systems">A brief history of data management systems<span></span></a></li>
<li><a href="managing-data.html#data-information-and-knowledge">Data, information, and knowledge<span></span></a></li>
<li><a href="managing-data.html#the-challenge">The challenge<span></span></a></li>
<li><a href="managing-data.html#exercises">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="information.html"><a href="information.html"><i class="fa fa-check"></i><b>2</b> Information<span></span></a>
<ul>
<li><a href="information.html#introduction-1">Introduction<span></span></a></li>
<li><a href="information.html#a-historical-perspective">A historical perspective<span></span></a></li>
<li><a href="information.html#a-brief-history-of-information-systems">A brief history of information systems<span></span></a></li>
<li><a href="information.html#information-characteristics">Information characteristics<span></span></a></li>
<li><a href="information.html#information-and-organizational-change">Information and organizational change<span></span></a></li>
<li><a href="information.html#information-and-managerial-work">Information and managerial work<span></span></a></li>
<li><a href="information.html#managers-information-requirements">Managers’ information requirements<span></span></a></li>
<li><a href="information.html#information-delivery-systems">Information delivery systems<span></span></a></li>
<li><a href="information.html#information-integration">Information integration<span></span></a></li>
<li><a href="information.html#knowledge-1">Knowledge<span></span></a></li>
<li><a href="information.html#exercises-1">Exercises<span></span></a></li>
</ul></li>
<li><a href="section-2-data-modeling-and-sql.html#section-2-data-modeling-and-sql">Section 2 Data Modeling and SQL<span></span></a></li>
<li class="chapter" data-level="3" data-path="the-single-entity.html"><a href="the-single-entity.html"><i class="fa fa-check"></i><b>3</b> The Single Entity<span></span></a>
<ul>
<li><a href="the-single-entity.html#the-relational-model">The relational model<span></span></a></li>
<li><a href="the-single-entity.html#getting-started">Getting started<span></span></a></li>
<li><a href="the-single-entity.html#modeling-a-single-entity-database">Modeling a single-entity database<span></span></a></li>
<li><a href="the-single-entity.html#creating-a-single-table-database">Creating a single-table database<span></span></a></li>
<li><a href="the-single-entity.html#querying-a-single-table-database">Querying a single-table database<span></span></a></li>
<li><a href="the-single-entity.html#exercises-2">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="the-one-to-many-relationship.html"><a href="the-one-to-many-relationship.html"><i class="fa fa-check"></i><b>4</b> The One-to-Many Relationship<span></span></a>
<ul>
<li><a href="the-one-to-many-relationship.html#relationships">Relationships<span></span></a></li>
<li><a href="the-one-to-many-relationship.html#creating-a-database-with-a-1m-relationship">Creating a database with a 1:m relationship<span></span></a></li>
<li><a href="the-one-to-many-relationship.html#querying-a-two-table-database">Querying a two-table database<span></span></a></li>
<li><a href="the-one-to-many-relationship.html#regular-expressionpattern-matching-1">Regular expression—pattern matching<span></span></a></li>
<li><a href="the-one-to-many-relationship.html#subqueries-1">Subqueries<span></span></a></li>
<li><a href="the-one-to-many-relationship.html#exercises-3">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="the-many-to-many-relationship.html"><a href="the-many-to-many-relationship.html"><i class="fa fa-check"></i><b>5</b> The Many-to-Many Relationship<span></span></a>
<ul>
<li><a href="the-many-to-many-relationship.html#the-many-to-many-relationship-1">The many-to-many relationship<span></span></a></li>
<li><a href="the-many-to-many-relationship.html#creating-a-relational-database-with-an-mm-relationship">Creating a relational database with an m:m relationship<span></span></a></li>
<li><a href="the-many-to-many-relationship.html#querying-an-mm-relationship">Querying an m:m relationship<span></span></a></li>
<li><a href="the-many-to-many-relationship.html#key-terms-and-concepts-2">Key terms and concepts<span></span></a></li>
<li><a href="the-many-to-many-relationship.html#exercises-4">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="one-to-one-and-recursive-relationships.html"><a href="one-to-one-and-recursive-relationships.html"><i class="fa fa-check"></i><b>6</b> One-to-One and Recursive Relationships<span></span></a>
<ul>
<li><a href="one-to-one-and-recursive-relationships.html#modeling-a-one-to-one-relationship">Modeling a one-to-one relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#mapping-a-one-to-one-relationship">Mapping a one-to-one relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#mapping-a-recursive-one-to-many-relationship">Mapping a recursive one-to-many relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#querying-a-one-to-one-relationship">Querying a one-to-one relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#querying-a-recursive-1m-relationship">Querying a recursive 1:m relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#modeling-a-recursive-one-to-one-relationship">Modeling a recursive one-to-one relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#mapping-a-recursive-one-to-one-relationship">Mapping a recursive one-to-one relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#querying-a-recursive-one-to-one-relationship">Querying a recursive one-to-one relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#modeling-a-recursive-many-to-many-relationship">Modeling a recursive many-to-many relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#mapping-a-recursive-many-to-many-relationship">Mapping a recursive many-to-many relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#querying-a-recursive-many-to-many-relationship">Querying a recursive many-to-many relationship<span></span></a></li>
<li><a href="one-to-one-and-recursive-relationships.html#exercises-5">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-modeling.html"><a href="data-modeling.html"><i class="fa fa-check"></i><b>7</b> Data Modeling<span></span></a>
<ul>
<li><a href="data-modeling.html#modeling">Modeling<span></span></a></li>
<li><a href="data-modeling.html#data-modeling-1">Data modeling<span></span></a></li>
<li><a href="data-modeling.html#data-model-quality">Data model quality<span></span></a></li>
<li><a href="data-modeling.html#quality-improvement">Quality improvement<span></span></a></li>
<li><a href="data-modeling.html#data-modeling-hints">Data modeling hints<span></span></a></li>
<li><a href="data-modeling.html#the-seven-habits-of-highly-effective-data-modelers">The seven habits of highly effective data modelers<span></span></a></li>
<li><a href="data-modeling.html#exercises-6">Exercises<span></span></a></li>
</ul></li>
<li><a href="reference-1-basic-structures.html#reference-1-basic-structures">Reference 1: Basic Structures<span></span></a>
<ul>
<li><a href="reference-1-basic-structures.html#one-entity">One entity<span></span></a></li>
<li><a href="reference-1-basic-structures.html#two-entities">Two entities<span></span></a></li>
<li><a href="reference-1-basic-structures.html#another-entitys-identifier-as-part-of-the-identifier">Another entity’s identifier as part of the identifier<span></span></a></li>
<li><a href="reference-1-basic-structures.html#exercises-7">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="normalization-and-other-data-modeling-methods.html"><a href="normalization-and-other-data-modeling-methods.html"><i class="fa fa-check"></i><b>8</b> Normalization and Other Data Modeling Methods<span></span></a>
<ul>
<li><a href="normalization-and-other-data-modeling-methods.html#multiple-paths">Multiple paths<span></span></a></li>
<li><a href="normalization-and-other-data-modeling-methods.html#normalization">Normalization<span></span></a></li>
<li><a href="normalization-and-other-data-modeling-methods.html#other-data-modeling-methods">Other data modeling methods<span></span></a></li>
<li><a href="normalization-and-other-data-modeling-methods.html#key-terms-and-concepts-5">Key terms and concepts<span></span></a></li>
<li><a href="normalization-and-other-data-modeling-methods.html#exercises-8">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="the-relational-model-and-relational-algebra.html"><a href="the-relational-model-and-relational-algebra.html"><i class="fa fa-check"></i><b>9</b> The Relational Model and Relational Algebra<span></span></a>
<ul>
<li><a href="the-relational-model-and-relational-algebra.html#background">Background<span></span></a></li>
<li><a href="the-relational-model-and-relational-algebra.html#data-structures">Data structures<span></span></a></li>
<li><a href="the-relational-model-and-relational-algebra.html#integrity-rules">Integrity rules<span></span></a></li>
<li><a href="the-relational-model-and-relational-algebra.html#manipulation-languages">Manipulation languages<span></span></a></li>
<li><a href="the-relational-model-and-relational-algebra.html#a-fully-relational-database">A fully relational database<span></span></a></li>
<li><a href="the-relational-model-and-relational-algebra.html#exercises-9">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="sql.html"><a href="sql.html"><i class="fa fa-check"></i><b>10</b> SQL<span></span></a>
<ul>
<li><a href="sql.html#structured-query-language">Structured query language<span></span></a></li>
<li><a href="sql.html#creating-a-table">Creating a table<span></span></a></li>
<li><a href="sql.html#data-types">Data types<span></span></a></li>
<li><a href="sql.html#collation-sequence">Collation sequence<span></span></a></li>
<li><a href="sql.html#scalar-functions">Scalar functions<span></span></a></li>
<li><a href="sql.html#formatting">Formatting<span></span></a></li>
<li><a href="sql.html#table-commands">Table commands<span></span></a></li>
<li><a href="sql.html#data-manipulation">Data manipulation<span></span></a></li>
<li><a href="sql.html#insert">INSERT<span></span></a></li>
<li><a href="sql.html#update-1">UPDATE<span></span></a></li>
<li><a href="sql.html#delete-1">DELETE<span></span></a></li>
<li><a href="sql.html#sql-routines">SQL routines<span></span></a></li>
<li><a href="sql.html#universal-unique-identifier-uuid">Universal Unique Identifier (UUID)<span></span></a></li>
<li><a href="sql.html#nullsmuch-ado-about-missing-information">Nulls—much ado about missing information<span></span></a></li>
<li><a href="sql.html#security">Security<span></span></a></li>
<li><a href="sql.html#the-system-catalog">The system catalog<span></span></a></li>
<li><a href="sql.html#natural-language-processing">Natural language processing<span></span></a></li>
<li><a href="sql.html#connectivity-and-odbc">Connectivity and ODBC<span></span></a></li>
<li><a href="sql.html#embedded-sql">Embedded SQL<span></span></a></li>
<li><a href="sql.html#user-defined-types">User-defined types<span></span></a></li>
<li><a href="sql.html#the-future-of-sql">The future of SQL<span></span></a></li>
</ul></li>
<li><a href="reference-2-sql-playbook.html#reference-2-sql-playbook">Reference 2: SQL Playbook<span></span></a>
<ul>
<li><a href="reference-2-sql-playbook.html#the-power-of-sql">The power of SQL<span></span></a></li>
</ul></li>
<li><a href="section-3-advanced-data-management.html#section-3-advanced-data-management">Section 3 Advanced Data Management<span></span></a></li>
<li class="chapter" data-level="11" data-path="spatial-and-temporal-data-management.html"><a href="spatial-and-temporal-data-management.html"><i class="fa fa-check"></i><b>11</b> Spatial and Temporal Data Management<span></span></a>
<ul>
<li><a href="spatial-and-temporal-data-management.html#spatial-data">Spatial data<span></span></a></li>
<li><a href="spatial-and-temporal-data-management.html#managing-spatial-data">Managing spatial data<span></span></a></li>
<li><a href="spatial-and-temporal-data-management.html#data-model-mapping">Data model mapping<span></span></a></li>
<li><a href="spatial-and-temporal-data-management.html#r-tree">R-tree<span></span></a></li>
<li><a href="spatial-and-temporal-data-management.html#managing-temporal-data">Managing temporal data<span></span></a></li>
<li><a href="spatial-and-temporal-data-management.html#key-terms-and-concepts-8">Key terms and concepts<span></span></a></li>
<li><a href="spatial-and-temporal-data-management.html#exercises-11">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="graph-databases.html"><a href="graph-databases.html"><i class="fa fa-check"></i><b>12</b> Graph Databases<span></span></a>
<ul>
<li><a href="graph-databases.html#a-graph-database">A graph database<span></span></a></li>
<li><a href="graph-databases.html#neo4j-a-graph-database-implementation">Neo4j – a graph database implementation<span></span></a></li>
<li><a href="graph-databases.html#a-relationship-between-nodes">A relationship between nodes<span></span></a></li>
<li><a href="graph-databases.html#key-terms-and-concepts-9">Key terms and concepts<span></span></a></li>
<li><a href="graph-databases.html#exercises-12">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="xml-managing-data-exchange.html"><a href="xml-managing-data-exchange.html"><i class="fa fa-check"></i><b>13</b> XML: Managing Data Exchange<span></span></a>
<ul>
<li><a href="xml-managing-data-exchange.html#four-problems">Four problems<span></span></a></li>
<li><a href="xml-managing-data-exchange.html#sgml">SGML<span></span></a></li>
<li><a href="xml-managing-data-exchange.html#xml">XML<span></span></a></li>
<li><a href="xml-managing-data-exchange.html#xml-schema">XML schema<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="organizational-intelligence.html"><a href="organizational-intelligence.html"><i class="fa fa-check"></i><b>14</b> Organizational Intelligence<span></span></a>
<ul>
<li><a href="organizational-intelligence.html#information-poverty">Information poverty<span></span></a></li>
<li><a href="organizational-intelligence.html#an-organizational-intelligence-system">An organizational intelligence system<span></span></a></li>
<li><a href="organizational-intelligence.html#the-data-warehouse">The data warehouse<span></span></a></li>
<li><a href="organizational-intelligence.html#exploiting-data-stores">Exploiting data stores<span></span></a></li>
<li><a href="organizational-intelligence.html#data-mining">Data mining<span></span></a></li>
<li><a href="organizational-intelligence.html#exercises-14">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>15</b> Introduction to R<span></span></a>
<ul>
<li><a href="introduction-to-r.html#the-r-project">The R project<span></span></a></li>
<li><a href="introduction-to-r.html#datasets">Datasets<span></span></a></li>
<li><a href="introduction-to-r.html#packages">Packages<span></span></a></li>
<li><a href="introduction-to-r.html#file-handing">File handing<span></span></a></li>
<li><a href="introduction-to-r.html#data-manipulation-with-dplyr">Data manipulation with dplyr<span></span></a></li>
<li><a href="introduction-to-r.html#database-access">Database access<span></span></a></li>
<li><a href="introduction-to-r.html#excel-files">Excel files<span></span></a></li>
<li><a href="introduction-to-r.html#r-resources">R resources<span></span></a></li>
<li><a href="introduction-to-r.html#r-and-data-analytics">R and data analytics<span></span></a></li>
<li><a href="introduction-to-r.html#exercises-15">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="data-visualization-1.html"><a href="data-visualization-1.html"><i class="fa fa-check"></i><b>16</b> Data visualization<span></span></a>
<ul>
<li><a href="data-visualization-1.html#visual-processing">Visual processing<span></span></a></li>
<li><a href="data-visualization-1.html#the-grammar-of-graphics">The grammar of graphics<span></span></a></li>
<li><a href="data-visualization-1.html#ggplot2">ggplot2<span></span></a></li>
<li><a href="data-visualization-1.html#some-recipes">Some recipes<span></span></a></li>
<li><a href="data-visualization-1.html#geographic-data">Geographic data<span></span></a></li>
<li><a href="data-visualization-1.html#r-resources-1">R resources<span></span></a></li>
<li><a href="data-visualization-1.html#exercises-16">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="text-mining-natural-language-processing.html"><a href="text-mining-natural-language-processing.html"><i class="fa fa-check"></i><b>17</b> Text mining &amp; natural language processing<span></span></a>
<ul>
<li><a href="text-mining-natural-language-processing.html#the-nature-of-language">The nature of language<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#levels-of-processing">Levels of processing<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#tokenization">Tokenization<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#sentiment-analysis">Sentiment analysis<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#corpus">Corpus<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#readability">Readability<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#preprocessing">Preprocessing<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#word-frequency-analysis">Word frequency analysis<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#co-occurrence-and-association">Co-occurrence and association<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#cluster-analysis">Cluster analysis<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#topic-modeling">Topic modeling<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#named-entity-recognition-ner">Named-entity recognition (NER)<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#future-developments">Future developments<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#key-terms-and-concepts-13">Key terms and concepts<span></span></a></li>
<li><a href="text-mining-natural-language-processing.html#exercises-17">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="cluster-computing.html"><a href="cluster-computing.html"><i class="fa fa-check"></i><b>18</b> Cluster computing<span></span></a>
<ul>
<li><a href="cluster-computing.html#a-paradigm-shift">A paradigm shift<span></span></a></li>
<li><a href="cluster-computing.html#the-drivers">The drivers<span></span></a></li>
<li><a href="cluster-computing.html#the-bottleneck-and-its-solution">The bottleneck and its solution<span></span></a></li>
<li><a href="cluster-computing.html#lambda-architecture">Lambda Architecture<span></span></a></li>
<li><a href="cluster-computing.html#hadoop">Hadoop<span></span></a></li>
<li><a href="cluster-computing.html#spark">Spark<span></span></a></li>
<li><a href="cluster-computing.html#exercises-18">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="dashboards.html"><a href="dashboards.html"><i class="fa fa-check"></i><b>19</b> Dashboards<span></span></a>
<ul>
<li><a href="dashboards.html#the-value-of-dashboards">The value of dashboards<span></span></a></li>
<li><a href="dashboards.html#designing-a-dashboard">Designing a dashboard<span></span></a></li>
<li><a href="dashboards.html#dashboards-with-r">Dashboards with R<span></span></a></li>
<li><a href="dashboards.html#conclusion-5">Conclusion<span></span></a></li>
<li><a href="dashboards.html#exercises-19">Exercises<span></span></a></li>
</ul></li>
<li><a href="section-4-managing-organizational-memory.html#section-4-managing-organizational-memory">Section 4 Managing Organizational Memory<span></span></a></li>
<li class="chapter" data-level="20" data-path="data-structure-and-storage.html"><a href="data-structure-and-storage.html"><i class="fa fa-check"></i><b>20</b> Data Structure and Storage<span></span></a>
<ul>
<li><a href="data-structure-and-storage.html#the-data-deluge">The data deluge<span></span></a></li>
<li><a href="data-structure-and-storage.html#data-structures-1">Data structures<span></span></a></li>
<li><a href="data-structure-and-storage.html#data-coding-standards">Data coding standards<span></span></a></li>
<li><a href="data-structure-and-storage.html#data-storage-devices">Data storage devices<span></span></a></li>
<li><a href="data-structure-and-storage.html#data-compression">Data compression<span></span></a></li>
<li><a href="data-structure-and-storage.html#key-terms-and-concepts-15">Key terms and concepts<span></span></a></li>
<li><a href="data-structure-and-storage.html#exercises-20">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="data-processing-architectures.html"><a href="data-processing-architectures.html"><i class="fa fa-check"></i><b>21</b> Data Processing Architectures<span></span></a>
<ul>
<li><a href="data-processing-architectures.html#architectural-choices">Architectural choices<span></span></a></li>
<li><a href="data-processing-architectures.html#remote-job-entry">Remote job entry<span></span></a></li>
<li><a href="data-processing-architectures.html#personal-database">Personal database<span></span></a></li>
<li><a href="data-processing-architectures.html#clientserver">Client/server<span></span></a></li>
<li><a href="data-processing-architectures.html#cloud-computing">Cloud computing<span></span></a></li>
<li><a href="data-processing-architectures.html#distributed-database">Distributed database<span></span></a></li>
<li><a href="data-processing-architectures.html#distributed-data-access">Distributed data access<span></span></a></li>
<li><a href="data-processing-architectures.html#distributed-database-design">Distributed database design<span></span></a></li>
<li><a href="data-processing-architectures.html#key-terms-and-concepts-16">Key terms and concepts<span></span></a></li>
<li><a href="data-processing-architectures.html#exercises-21">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="sql-and-java.html"><a href="sql-and-java.html"><i class="fa fa-check"></i><b>22</b> SQL and Java<span></span></a>
<ul>
<li><a href="sql-and-java.html#java">JAVA<span></span></a></li>
<li><a href="sql-and-java.html#using-sql-within-java">Using SQL within Java<span></span></a></li>
<li><a href="sql-and-java.html#javaserver-pages-jsp">JavaServer Pages (JSP)<span></span></a></li>
<li><a href="sql-and-java.html#exercises-22">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="data-integrity.html"><a href="data-integrity.html"><i class="fa fa-check"></i><b>23</b> Data Integrity<span></span></a>
<ul>
<li><a href="data-integrity.html#introduction-2">Introduction<span></span></a></li>
<li><a href="data-integrity.html#transaction-management">Transaction management<span></span></a></li>
<li><a href="data-integrity.html#protecting-existence">Protecting existence<span></span></a></li>
<li><a href="data-integrity.html#maintaining-data-quality">Maintaining data quality<span></span></a></li>
<li><a href="data-integrity.html#ensuring-confidentiality">Ensuring confidentiality<span></span></a></li>
<li><a href="data-integrity.html#key-terms-and-concepts-18">Key terms and concepts<span></span></a></li>
<li><a href="data-integrity.html#exercises-23">Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="data-administration.html"><a href="data-administration.html"><i class="fa fa-check"></i><b>24</b> Data Administration<span></span></a>
<ul>
<li><a href="data-administration.html#introduction-3">Introduction<span></span></a></li>
<li><a href="data-administration.html#the-chief-data-officer">The Chief Data Officer<span></span></a></li>
<li><a href="data-administration.html#management-of-the-database-environment">Management of the database environment<span></span></a></li>
<li><a href="data-administration.html#data-administration-1">Data administration<span></span></a></li>
<li><a href="data-administration.html#database-management-systems-dbmss">Database management systems (DBMSs)<span></span></a></li>
<li><a href="data-administration.html#groupware-1">Groupware<span></span></a></li>
<li><a href="data-administration.html#data-integration">Data integration<span></span></a></li>
<li><a href="data-administration.html#conclusion-9">Conclusion<span></span></a></li>
<li><a href="data-administration.html#exercises-24">Exercises<span></span></a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="reference-1-basic-structures" class="section level1 unnumbered hasAnchor">
<h1>Reference 1: Basic Structures<a href="reference-1-basic-structures.html#reference-1-basic-structures" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<blockquote>
<p><em>Few things are harder to put up with than the annoyance of a good
example.</em></p>
<p>Mark Twain, <em>Pudd’nhead Wilson</em>, 1894</p>
</blockquote>
<p>Every data model is composed of the same basic structures. This is a
major advantage because you can focus on a small part of a full data
model without being concerned about the rest of it. As a result,
translation to a relational database is very easy because you
systematically translate each basic structure. This reference describes
each of the basic structures and shows how they are mapped to a
relational database. Because the mapping is shown as a diagram and SQL
CREATE statements, you might use this section frequently when first
learning data modeling.</p>
<div id="one-entity" class="section level2 unnumbered hasAnchor">
<h2>One entity<a href="reference-1-basic-structures.html#one-entity" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="no-relationships" class="section level3 unnumbered hasAnchor">
<h3>No relationships<a href="reference-1-basic-structures.html#no-relationships" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The unrelated entity was introduced in Chapter 3. This is simply a flat
file, and the mapping is very simple. Although it is unlikely that you
will have a data model with a single entity, it is covered for
completeness.</p>
<p><img src="Figures/Reference%201/r1-person.png" width="152" /></p>
<div class="sourceCode" id="cb90"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb90-1"><a href="reference-1-basic-structures.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> person (</span>
<span id="cb90-2"><a href="reference-1-basic-structures.html#cb90-2" aria-hidden="true" tabindex="-1"></a>    personid    <span class="dt">INTEGER</span>,</span>
<span id="cb90-3"><a href="reference-1-basic-structures.html#cb90-3" aria-hidden="true" tabindex="-1"></a>    attribute1  … ,</span>
<span id="cb90-4"><a href="reference-1-basic-structures.html#cb90-4" aria-hidden="true" tabindex="-1"></a>    attribute2  … ,</span>
<span id="cb90-5"><a href="reference-1-basic-structures.html#cb90-5" aria-hidden="true" tabindex="-1"></a>    …</span>
<span id="cb90-6"><a href="reference-1-basic-structures.html#cb90-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(personid));</span></code></pre></div>
</div>
<div id="a-11-recursive-relationship" class="section level3 unnumbered hasAnchor">
<h3>A 1:1 recursive relationship<a href="reference-1-basic-structures.html#a-11-recursive-relationship" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A recursive one-to-one (1:1) relationship is used to describe situations
like current marriage. In most countries, a person can legally have zero
or one current spouse. The relationship should be labeled to avoid
misunderstandings. Mapping to the relational database requires that the
identifier of the one end of the relationship becomes a foreign key. It
does not matter which one you select. Notice that when <code>personid</code> is
used as a foreign key, it must be given a different column name—in
this case <code>partner</code>—because two columns in the same table cannot have
the same name. The foreign key constraint is not defined, because this
constraint cannot refer to the table being created.</p>
<p><img src="Figures/Reference%201/r1-person-1-1.png" width="257" /></p>
<div class="sourceCode" id="cb91"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb91-1"><a href="reference-1-basic-structures.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> person (</span>
<span id="cb91-2"><a href="reference-1-basic-structures.html#cb91-2" aria-hidden="true" tabindex="-1"></a>    personid    <span class="dt">INTEGER</span>,</span>
<span id="cb91-3"><a href="reference-1-basic-structures.html#cb91-3" aria-hidden="true" tabindex="-1"></a>    attribute1  … ,</span>
<span id="cb91-4"><a href="reference-1-basic-structures.html#cb91-4" aria-hidden="true" tabindex="-1"></a>    attribute2  … ,</span>
<span id="cb91-5"><a href="reference-1-basic-structures.html#cb91-5" aria-hidden="true" tabindex="-1"></a>    …</span>
<span id="cb91-6"><a href="reference-1-basic-structures.html#cb91-6" aria-hidden="true" tabindex="-1"></a>    partner     <span class="dt">INTEGER</span>,</span>
<span id="cb91-7"><a href="reference-1-basic-structures.html#cb91-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(personid));</span></code></pre></div>
</div>
<div id="a-recursive-1m-relationship" class="section level3 unnumbered hasAnchor">
<h3>A recursive 1:m relationship<a href="reference-1-basic-structures.html#a-recursive-1m-relationship" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A recursive one-to-many (1:m) relationship describes situations like
fatherhood or motherhood. The following figure maps fatherhood. A father
may have many biological children, but a child has only one biological
father. The relationship is mapped like any other 1:m relationship. The
identifier of the one end becomes a foreign key in the many end. Again,
we must rename the identifier when it becomes a foreign key in the same
table. Also, as before the foreign key constraint is not defined because it
cannot refer to the table being created.</p>
<p><img src="Figures/Reference%201/r1-person-1-m.png" width="312" /></p>
<div class="sourceCode" id="cb92"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb92-1"><a href="reference-1-basic-structures.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> person (</span>
<span id="cb92-2"><a href="reference-1-basic-structures.html#cb92-2" aria-hidden="true" tabindex="-1"></a>    personid    <span class="dt">INTEGER</span>,</span>
<span id="cb92-3"><a href="reference-1-basic-structures.html#cb92-3" aria-hidden="true" tabindex="-1"></a>    Attribute1  … ,</span>
<span id="cb92-4"><a href="reference-1-basic-structures.html#cb92-4" aria-hidden="true" tabindex="-1"></a>    Attribute2  … ,</span>
<span id="cb92-5"><a href="reference-1-basic-structures.html#cb92-5" aria-hidden="true" tabindex="-1"></a>    …</span>
<span id="cb92-6"><a href="reference-1-basic-structures.html#cb92-6" aria-hidden="true" tabindex="-1"></a>    father      <span class="dt">INTEGER</span>,</span>
<span id="cb92-7"><a href="reference-1-basic-structures.html#cb92-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(personid));</span></code></pre></div>
<p>It is possible to have more than one 1:m recursive relationship. For
example, details of a mother-child relationship would be represented in
the same manner and result in the data model having a second 1:m
recursive relationship. The mapping to the relational model would result
in an additional column to contain a foreign key <code>mother</code>, the
<code>personid</code> of a person’s mother.</p>
</div>
<div id="a-recursive-mm-relationship" class="section level3 unnumbered hasAnchor">
<h3>A recursive m:m relationship<a href="reference-1-basic-structures.html#a-recursive-mm-relationship" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A recursive many-to-many (m:m) relationship can describe a situation
such as friendship. A person can have many friends and be a friend to
many persons. As with m:m relationships between a pair of entities, we
convert this relationship to two 1:m relationships and create an
associative entity.</p>
<p>The resulting entity friendship has a composite primary key based on the
identifier of person, which in effect means the two components are based
on <em>personid</em>. To distinguish between them, the columns are called
<code>personid1</code> and <code>personid2</code>, so you can think of friendship as a pair of
<em>personids</em>. You will see the same pattern occurring with other m:m
recursive relationships. Notice both person identifiers are independent
foreign keys, because they are used to map the two 1:m relationships
between person and friendship.</p>
<p><img src="Figures/Reference%201/r1-person-m-m.png" width="358" /></p>
<div class="sourceCode" id="cb93"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb93-1"><a href="reference-1-basic-structures.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> person (</span>
<span id="cb93-2"><a href="reference-1-basic-structures.html#cb93-2" aria-hidden="true" tabindex="-1"></a>    personid    <span class="dt">INTEGER</span>,</span>
<span id="cb93-3"><a href="reference-1-basic-structures.html#cb93-3" aria-hidden="true" tabindex="-1"></a>    Attribute1  … ,</span>
<span id="cb93-4"><a href="reference-1-basic-structures.html#cb93-4" aria-hidden="true" tabindex="-1"></a>    attribute2  … ,</span>
<span id="cb93-5"><a href="reference-1-basic-structures.html#cb93-5" aria-hidden="true" tabindex="-1"></a>    …</span>
<span id="cb93-6"><a href="reference-1-basic-structures.html#cb93-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(personid));</span></code></pre></div>
<div class="sourceCode" id="cb94"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb94-1"><a href="reference-1-basic-structures.html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> friendship (</span>
<span id="cb94-2"><a href="reference-1-basic-structures.html#cb94-2" aria-hidden="true" tabindex="-1"></a>    personid1   <span class="dt">INTEGER</span>,</span>
<span id="cb94-3"><a href="reference-1-basic-structures.html#cb94-3" aria-hidden="true" tabindex="-1"></a>    personid2   <span class="dt">INTEGER</span>,</span>
<span id="cb94-4"><a href="reference-1-basic-structures.html#cb94-4" aria-hidden="true" tabindex="-1"></a>    attribute3  … ,</span>
<span id="cb94-5"><a href="reference-1-basic-structures.html#cb94-5" aria-hidden="true" tabindex="-1"></a>    attribute4  … ,</span>
<span id="cb94-6"><a href="reference-1-basic-structures.html#cb94-6" aria-hidden="true" tabindex="-1"></a>    …</span>
<span id="cb94-7"><a href="reference-1-basic-structures.html#cb94-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(personid1,personid2),</span>
<span id="cb94-8"><a href="reference-1-basic-structures.html#cb94-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">CONSTRAINT</span> fk_friendship_person1</span>
<span id="cb94-9"><a href="reference-1-basic-structures.html#cb94-9" aria-hidden="true" tabindex="-1"></a>            <span class="kw">FOREIGN</span> <span class="kw">KEY</span>(personid1) <span class="kw">REFERENCES</span> person(personid),</span>
<span id="cb94-10"><a href="reference-1-basic-structures.html#cb94-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">CONSTRAINT</span> fk_friendship_person2</span>
<span id="cb94-11"><a href="reference-1-basic-structures.html#cb94-11" aria-hidden="true" tabindex="-1"></a>            <span class="kw">FOREIGN</span> <span class="kw">KEY</span>(personid2) <span class="kw">REFERENCES</span> person(personid));</span></code></pre></div>
<p>A single entity can have multiple m:m recursive relationships.
Relationships such as enmity (not enemyship) and siblinghood are m:m
recursive on person. The approach to recording these relationships is
the same as that outlined previously.</p>
</div>
</div>
<div id="two-entities" class="section level2 unnumbered hasAnchor">
<h2>Two entities<a href="reference-1-basic-structures.html#two-entities" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="no-relationship" class="section level3 unnumbered hasAnchor">
<h3>No relationship<a href="reference-1-basic-structures.html#no-relationship" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When there is no relationship between two entities, the client has
decided there is no need to record a relationship between the two
entities. When you are reading the data model with the client, be sure
that you check whether this assumption is correct both now and for the
foreseeable future. When there is no relationship between two entities,
map them each as you would a single entity with no relationships.</p>
</div>
<div id="a-11-relationship" class="section level3 unnumbered hasAnchor">
<h3>A 1:1 relationship<a href="reference-1-basic-structures.html#a-11-relationship" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A 1:1 relationship sometimes occurs in parallel with a 1:m relationship
between two entities. It signifies some instances of an entity that have
an additional role. For example, a department has many employees (the
1:m relationship), and a department has one boss (the 1:1). The data
model fragment shown in the following figure represents the 1:1
relationship.</p>
<p><img src="Figures/Reference%201/r1-dept-emp.png" width="500" /></p>
<p>The guideline, as explained in Chapter 6, is to map the relationship to
the relational model by placing the foreign key at the mandatory
relationship side of the relationship. In this case, we place the
foreign key in <code>department</code> because each department must have an
employee who is the boss.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb95-1"><a href="reference-1-basic-structures.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> employee (</span>
<span id="cb95-2"><a href="reference-1-basic-structures.html#cb95-2" aria-hidden="true" tabindex="-1"></a>    empid       <span class="dt">INTEGER</span>,</span>
<span id="cb95-3"><a href="reference-1-basic-structures.html#cb95-3" aria-hidden="true" tabindex="-1"></a>    empattrib1  … ,</span>
<span id="cb95-4"><a href="reference-1-basic-structures.html#cb95-4" aria-hidden="true" tabindex="-1"></a>    empattrib2  … ,</span>
<span id="cb95-5"><a href="reference-1-basic-structures.html#cb95-5" aria-hidden="true" tabindex="-1"></a>    …</span>
<span id="cb95-6"><a href="reference-1-basic-structures.html#cb95-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(empid));</span></code></pre></div>
<div class="sourceCode" id="cb96"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb96-1"><a href="reference-1-basic-structures.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> department (</span>
<span id="cb96-2"><a href="reference-1-basic-structures.html#cb96-2" aria-hidden="true" tabindex="-1"></a>    deptid      <span class="dt">CHAR</span>(<span class="dv">3</span>),</span>
<span id="cb96-3"><a href="reference-1-basic-structures.html#cb96-3" aria-hidden="true" tabindex="-1"></a>    deptattrib1 … ,</span>
<span id="cb96-4"><a href="reference-1-basic-structures.html#cb96-4" aria-hidden="true" tabindex="-1"></a>    deptattrib2 … ,</span>
<span id="cb96-5"><a href="reference-1-basic-structures.html#cb96-5" aria-hidden="true" tabindex="-1"></a>    …</span>
<span id="cb96-6"><a href="reference-1-basic-structures.html#cb96-6" aria-hidden="true" tabindex="-1"></a>    bossid      <span class="dt">INTEGER</span>,</span>
<span id="cb96-7"><a href="reference-1-basic-structures.html#cb96-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(deptid),</span>
<span id="cb96-8"><a href="reference-1-basic-structures.html#cb96-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">CONSTRAINT</span> fk_department_employee</span>
<span id="cb96-9"><a href="reference-1-basic-structures.html#cb96-9" aria-hidden="true" tabindex="-1"></a>            <span class="kw">FOREIGN</span> <span class="kw">KEY</span>(bossid) <span class="kw">REFERENCES</span> employee(empid));</span></code></pre></div>
</div>
<div id="a-1m-relationship" class="section level3 unnumbered hasAnchor">
<h3>A 1:m relationship<a href="reference-1-basic-structures.html#a-1m-relationship" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The 1:m relationship is possibly the easiest to understand and map. The
mapping to the relational model is very simple. The primary key of the
“one” end becomes a foreign key in the “many” end.</p>
<p><img src="Figures/Chapter%204/nation-stock.png" width="400" /></p>
<div class="sourceCode" id="cb97"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb97-1"><a href="reference-1-basic-structures.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> nation (</span>
<span id="cb97-2"><a href="reference-1-basic-structures.html#cb97-2" aria-hidden="true" tabindex="-1"></a>    natcode     <span class="dt">CHAR</span>(<span class="dv">3</span>),</span>
<span id="cb97-3"><a href="reference-1-basic-structures.html#cb97-3" aria-hidden="true" tabindex="-1"></a>    natname     <span class="dt">VARCHAR</span>(<span class="dv">20</span>),</span>
<span id="cb97-4"><a href="reference-1-basic-structures.html#cb97-4" aria-hidden="true" tabindex="-1"></a>    exchrate    <span class="dt">DECIMAL</span>(<span class="dv">9</span>,<span class="dv">5</span>),</span>
<span id="cb97-5"><a href="reference-1-basic-structures.html#cb97-5" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(natcode));</span></code></pre></div>
<div class="sourceCode" id="cb98"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb98-1"><a href="reference-1-basic-structures.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> stock (</span>
<span id="cb98-2"><a href="reference-1-basic-structures.html#cb98-2" aria-hidden="true" tabindex="-1"></a>    stkcode     <span class="dt">CHAR</span>(<span class="dv">3</span>),</span>
<span id="cb98-3"><a href="reference-1-basic-structures.html#cb98-3" aria-hidden="true" tabindex="-1"></a>    stkfirm     <span class="dt">VARCHAR</span>(<span class="dv">20</span>),</span>
<span id="cb98-4"><a href="reference-1-basic-structures.html#cb98-4" aria-hidden="true" tabindex="-1"></a>    stkprice    <span class="dt">DECIMAL</span>(<span class="dv">6</span>,<span class="dv">2</span>),</span>
<span id="cb98-5"><a href="reference-1-basic-structures.html#cb98-5" aria-hidden="true" tabindex="-1"></a>    stkqty      <span class="dt">DECIMAL</span>(<span class="dv">8</span>),</span>
<span id="cb98-6"><a href="reference-1-basic-structures.html#cb98-6" aria-hidden="true" tabindex="-1"></a>    stkdiv      <span class="dt">DECIMAL</span>(<span class="dv">5</span>,<span class="dv">2</span>),</span>
<span id="cb98-7"><a href="reference-1-basic-structures.html#cb98-7" aria-hidden="true" tabindex="-1"></a>    stkpe       <span class="dt">DECIMAL</span>(<span class="dv">5</span>),</span>
<span id="cb98-8"><a href="reference-1-basic-structures.html#cb98-8" aria-hidden="true" tabindex="-1"></a>    natcode     <span class="dt">CHAR</span>(<span class="dv">3</span>),</span>
<span id="cb98-9"><a href="reference-1-basic-structures.html#cb98-9" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(stkcode),</span>
<span id="cb98-10"><a href="reference-1-basic-structures.html#cb98-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">CONSTRAINT</span> fk_stock_nation</span>
<span id="cb98-11"><a href="reference-1-basic-structures.html#cb98-11" aria-hidden="true" tabindex="-1"></a>            <span class="kw">FOREIGN</span> <span class="kw">KEY</span>(natcode) <span class="kw">REFERENCES</span> nation(natcode));</span></code></pre></div>
</div>
<div id="an-mm-relationship" class="section level3 unnumbered hasAnchor">
<h3>An m:m relationship<a href="reference-1-basic-structures.html#an-mm-relationship" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An m:m relationship is transformed into two 1:m relationships. The
mapping is then a twofold application of the 1:m rule.</p>
<p><img src="Figures/Reference%201/r1-book-copy-borrow.png" width="600" /></p>
<p>The <code>book</code> and <code>borrower</code> tables must be created first because <code>copy</code>
contains foreign key constraints that refer to <code>book</code> and <code>borrower</code>.
The column <code>borrowerid</code> can be null because a book need not be borrowed;
if it’s sitting on the shelf, there is no borrower.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb99-1"><a href="reference-1-basic-structures.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> book (</span>
<span id="cb99-2"><a href="reference-1-basic-structures.html#cb99-2" aria-hidden="true" tabindex="-1"></a>    callno      <span class="dt">VARCHAR</span>(<span class="dv">12</span>),</span>
<span id="cb99-3"><a href="reference-1-basic-structures.html#cb99-3" aria-hidden="true" tabindex="-1"></a>    isbn        … ,</span>
<span id="cb99-4"><a href="reference-1-basic-structures.html#cb99-4" aria-hidden="true" tabindex="-1"></a>    booktitle   … ,</span>
<span id="cb99-5"><a href="reference-1-basic-structures.html#cb99-5" aria-hidden="true" tabindex="-1"></a>    …</span>
<span id="cb99-6"><a href="reference-1-basic-structures.html#cb99-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(callno));</span></code></pre></div>
<div class="sourceCode" id="cb100"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb100-1"><a href="reference-1-basic-structures.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> borrower (</span>
<span id="cb100-2"><a href="reference-1-basic-structures.html#cb100-2" aria-hidden="true" tabindex="-1"></a>    borrowerid  <span class="dt">INTEGER</span>,</span>
<span id="cb100-3"><a href="reference-1-basic-structures.html#cb100-3" aria-hidden="true" tabindex="-1"></a>        …</span>
<span id="cb100-4"><a href="reference-1-basic-structures.html#cb100-4" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(borrowerid));</span></code></pre></div>
<div class="sourceCode" id="cb101"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb101-1"><a href="reference-1-basic-structures.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="kw">copy</span> (</span>
<span id="cb101-2"><a href="reference-1-basic-structures.html#cb101-2" aria-hidden="true" tabindex="-1"></a>    bookno      <span class="dt">INTEGER</span>,</span>
<span id="cb101-3"><a href="reference-1-basic-structures.html#cb101-3" aria-hidden="true" tabindex="-1"></a>    duedate     <span class="dt">DATE</span>,</span>
<span id="cb101-4"><a href="reference-1-basic-structures.html#cb101-4" aria-hidden="true" tabindex="-1"></a>    …</span>
<span id="cb101-5"><a href="reference-1-basic-structures.html#cb101-5" aria-hidden="true" tabindex="-1"></a>    callno      <span class="dt">VARCHAR</span>(<span class="dv">12</span>),</span>
<span id="cb101-6"><a href="reference-1-basic-structures.html#cb101-6" aria-hidden="true" tabindex="-1"></a>    borrowerid  <span class="dt">INTEGER</span>,</span>
<span id="cb101-7"><a href="reference-1-basic-structures.html#cb101-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(bookno),</span>
<span id="cb101-8"><a href="reference-1-basic-structures.html#cb101-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">CONSTRAINT</span> fk_copy_book</span>
<span id="cb101-9"><a href="reference-1-basic-structures.html#cb101-9" aria-hidden="true" tabindex="-1"></a>            <span class="kw">FOREIGN</span> <span class="kw">KEY</span>(callno) <span class="kw">REFERENCES</span> book(callno),</span>
<span id="cb101-10"><a href="reference-1-basic-structures.html#cb101-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">CONSTRAINT</span> fk_copy_borrower</span>
<span id="cb101-11"><a href="reference-1-basic-structures.html#cb101-11" aria-hidden="true" tabindex="-1"></a>            <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (borrowerid) <span class="kw">REFERENCES</span> borrower(borrowerid));</span></code></pre></div>
</div>
</div>
<div id="another-entitys-identifier-as-part-of-the-identifier" class="section level2 unnumbered hasAnchor">
<h2>Another entity’s identifier as part of the identifier<a href="reference-1-basic-structures.html#another-entitys-identifier-as-part-of-the-identifier" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Using one entity’s identifier as part of another entity’s identifier
tends to cause the most problems for novice data modelers. One entity’s
identifier is part of another identifier when there is a plus sign on an
arc. The plus is almost always at the crow’s foot end of a 1:m
relationship.</p>
<p>Tables are formed by applying the following rule: The
primary key of the table at the other end of the relationship becomes
both a foreign key and part of the primary key in the table at the plus
end. The application of this rule is shown for several common data model
fragments.</p>
<div id="a-weak-or-dependent-entity" class="section level3 unnumbered hasAnchor">
<h3>A weak or dependent entity<a href="reference-1-basic-structures.html#a-weak-or-dependent-entity" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In the following figure, <em>regname</em> is part of the identifier (signified
by the plus near the crow’s foot) and a foreign key of city (because of
the 1:m between region and city).</p>
<p><img src="Figures/Chapter%207/region-city.png" width="360" /></p>
<div class="sourceCode" id="cb102"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb102-1"><a href="reference-1-basic-structures.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> region (</span>
<span id="cb102-2"><a href="reference-1-basic-structures.html#cb102-2" aria-hidden="true" tabindex="-1"></a>    regname     <span class="dt">VARCHAR</span>(<span class="dv">20</span>),</span>
<span id="cb102-3"><a href="reference-1-basic-structures.html#cb102-3" aria-hidden="true" tabindex="-1"></a>    regtype     …,</span>
<span id="cb102-4"><a href="reference-1-basic-structures.html#cb102-4" aria-hidden="true" tabindex="-1"></a>    regpop      …,</span>
<span id="cb102-5"><a href="reference-1-basic-structures.html#cb102-5" aria-hidden="true" tabindex="-1"></a>    regarea     …,</span>
<span id="cb102-6"><a href="reference-1-basic-structures.html#cb102-6" aria-hidden="true" tabindex="-1"></a>        …</span>
<span id="cb102-7"><a href="reference-1-basic-structures.html#cb102-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(regname));</span></code></pre></div>
<div class="sourceCode" id="cb103"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb103-1"><a href="reference-1-basic-structures.html#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> city (</span>
<span id="cb103-2"><a href="reference-1-basic-structures.html#cb103-2" aria-hidden="true" tabindex="-1"></a>    cityname    <span class="dt">VARCHAR</span>(<span class="dv">20</span>),</span>
<span id="cb103-3"><a href="reference-1-basic-structures.html#cb103-3" aria-hidden="true" tabindex="-1"></a>    citypop     … ,</span>
<span id="cb103-4"><a href="reference-1-basic-structures.html#cb103-4" aria-hidden="true" tabindex="-1"></a>    cityarea    … ,</span>
<span id="cb103-5"><a href="reference-1-basic-structures.html#cb103-5" aria-hidden="true" tabindex="-1"></a>    …</span>
<span id="cb103-6"><a href="reference-1-basic-structures.html#cb103-6" aria-hidden="true" tabindex="-1"></a>    regname     <span class="dt">VARCHAR</span>(<span class="dv">20</span>),</span>
<span id="cb103-7"><a href="reference-1-basic-structures.html#cb103-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(cityname,regname),</span>
<span id="cb103-8"><a href="reference-1-basic-structures.html#cb103-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">CONSTRAINT</span> fk_city_region</span>
<span id="cb103-9"><a href="reference-1-basic-structures.html#cb103-9" aria-hidden="true" tabindex="-1"></a>            <span class="kw">FOREIGN</span> <span class="kw">KEY</span>(regname) <span class="kw">REFERENCES</span> region(regname));</span></code></pre></div>
</div>
<div id="an-associative-entity" class="section level3 unnumbered hasAnchor">
<h3>An associative entity<a href="reference-1-basic-structures.html#an-associative-entity" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In the following figure, observe that cityname and firmname are both
part of the primary key (signified by the plus near the crow’s foot) and
foreign keys (because of the two 1:m relationships) of store.</p>
<p><img src="Figures/Reference%201/r1-city-store-firm.png" width="600" /></p>
<div class="sourceCode" id="cb104"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb104-1"><a href="reference-1-basic-structures.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> city (</span>
<span id="cb104-2"><a href="reference-1-basic-structures.html#cb104-2" aria-hidden="true" tabindex="-1"></a>    cityname    <span class="dt">VARCHAR</span>(<span class="dv">20</span>),</span>
<span id="cb104-3"><a href="reference-1-basic-structures.html#cb104-3" aria-hidden="true" tabindex="-1"></a>    …</span>
<span id="cb104-4"><a href="reference-1-basic-structures.html#cb104-4" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(cityname));</span></code></pre></div>
<div class="sourceCode" id="cb105"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb105-1"><a href="reference-1-basic-structures.html#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> firm</span>
<span id="cb105-2"><a href="reference-1-basic-structures.html#cb105-2" aria-hidden="true" tabindex="-1"></a>    firmname    <span class="dt">VARCHAR</span>(<span class="dv">15</span>),</span>
<span id="cb105-3"><a href="reference-1-basic-structures.html#cb105-3" aria-hidden="true" tabindex="-1"></a>    firmstreet  … ,</span>
<span id="cb105-4"><a href="reference-1-basic-structures.html#cb105-4" aria-hidden="true" tabindex="-1"></a>    firmzip     … ,</span>
<span id="cb105-5"><a href="reference-1-basic-structures.html#cb105-5" aria-hidden="true" tabindex="-1"></a>    …</span>
<span id="cb105-6"><a href="reference-1-basic-structures.html#cb105-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(firmname));</span></code></pre></div>
<div class="sourceCode" id="cb106"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb106-1"><a href="reference-1-basic-structures.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="kw">store</span> (</span>
<span id="cb106-2"><a href="reference-1-basic-structures.html#cb106-2" aria-hidden="true" tabindex="-1"></a>    storestreet <span class="dt">VARCHAR</span>(<span class="dv">30</span>),</span>
<span id="cb106-3"><a href="reference-1-basic-structures.html#cb106-3" aria-hidden="true" tabindex="-1"></a>    storezip    … ,</span>
<span id="cb106-4"><a href="reference-1-basic-structures.html#cb106-4" aria-hidden="true" tabindex="-1"></a>    …</span>
<span id="cb106-5"><a href="reference-1-basic-structures.html#cb106-5" aria-hidden="true" tabindex="-1"></a>    cityname    <span class="dt">VARCHAR</span>(<span class="dv">20</span>),</span>
<span id="cb106-6"><a href="reference-1-basic-structures.html#cb106-6" aria-hidden="true" tabindex="-1"></a>    firmname    <span class="dt">VARCHAR</span>(<span class="dv">15</span>),</span>
<span id="cb106-7"><a href="reference-1-basic-structures.html#cb106-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(storestreet,cityname,firmname),</span>
<span id="cb106-8"><a href="reference-1-basic-structures.html#cb106-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">CONSTRAINT</span> fk_store_city</span>
<span id="cb106-9"><a href="reference-1-basic-structures.html#cb106-9" aria-hidden="true" tabindex="-1"></a>            <span class="kw">FOREIGN</span> <span class="kw">KEY</span>(cityname) <span class="kw">REFERENCES</span> city(cityname),</span>
<span id="cb106-10"><a href="reference-1-basic-structures.html#cb106-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">CONSTRAINT</span> fk_store_firm</span>
<span id="cb106-11"><a href="reference-1-basic-structures.html#cb106-11" aria-hidden="true" tabindex="-1"></a>            <span class="kw">FOREIGN</span> <span class="kw">KEY</span>(firmname) <span class="kw">REFERENCES</span> firm(firmname));</span></code></pre></div>
</div>
<div id="a-tree-structure" class="section level3 unnumbered hasAnchor">
<h3>A tree structure<a href="reference-1-basic-structures.html#a-tree-structure" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The interesting feature of the following figure is the primary key.
Notice that the primary key of a lower level of the tree is a composite
of its partial identifier and the primary key of the immediate higher
level. The primary key of department is a composite of deptname,
divname, and firmname. Novice modelers often forget to make this
translation.</p>
<p><img src="Figures/Reference%201/r1-tree.png" /></p>
<div class="sourceCode" id="cb107"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb107-1"><a href="reference-1-basic-structures.html#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> firm (</span>
<span id="cb107-2"><a href="reference-1-basic-structures.html#cb107-2" aria-hidden="true" tabindex="-1"></a>    firmname    <span class="dt">VARCHAR</span>(<span class="dv">15</span>),</span>
<span id="cb107-3"><a href="reference-1-basic-structures.html#cb107-3" aria-hidden="true" tabindex="-1"></a>    …</span>
<span id="cb107-4"><a href="reference-1-basic-structures.html#cb107-4" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(firmname));</span></code></pre></div>
<div class="sourceCode" id="cb108"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb108-1"><a href="reference-1-basic-structures.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> division (</span>
<span id="cb108-2"><a href="reference-1-basic-structures.html#cb108-2" aria-hidden="true" tabindex="-1"></a>    divname     <span class="dt">VARCHAR</span>(<span class="dv">15</span>),</span>
<span id="cb108-3"><a href="reference-1-basic-structures.html#cb108-3" aria-hidden="true" tabindex="-1"></a>    …</span>
<span id="cb108-4"><a href="reference-1-basic-structures.html#cb108-4" aria-hidden="true" tabindex="-1"></a>    firmname    <span class="dt">VARCHAR</span>(<span class="dv">15</span>),</span>
<span id="cb108-5"><a href="reference-1-basic-structures.html#cb108-5" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(firmname,divname),</span>
<span id="cb108-6"><a href="reference-1-basic-structures.html#cb108-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">CONSTRAINT</span> fk_division_firm</span>
<span id="cb108-7"><a href="reference-1-basic-structures.html#cb108-7" aria-hidden="true" tabindex="-1"></a>            <span class="kw">FOREIGN</span> <span class="kw">KEY</span>(firmname) <span class="kw">REFERENCES</span> firm(firmname));</span></code></pre></div>
<div class="sourceCode" id="cb109"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb109-1"><a href="reference-1-basic-structures.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> department (</span>
<span id="cb109-2"><a href="reference-1-basic-structures.html#cb109-2" aria-hidden="true" tabindex="-1"></a>    deptname    <span class="dt">VARCHAR</span>(<span class="dv">15</span>),</span>
<span id="cb109-3"><a href="reference-1-basic-structures.html#cb109-3" aria-hidden="true" tabindex="-1"></a>    …</span>
<span id="cb109-4"><a href="reference-1-basic-structures.html#cb109-4" aria-hidden="true" tabindex="-1"></a>    divname     <span class="dt">VARCHAR</span>(<span class="dv">15</span>),</span>
<span id="cb109-5"><a href="reference-1-basic-structures.html#cb109-5" aria-hidden="true" tabindex="-1"></a>    firmname    <span class="dt">VARCHAR</span>(<span class="dv">15</span>),</span>
<span id="cb109-6"><a href="reference-1-basic-structures.html#cb109-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(firmname,divname,deptname),</span>
<span id="cb109-7"><a href="reference-1-basic-structures.html#cb109-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">CONSTRAINT</span> fk_department_division</span>
<span id="cb109-8"><a href="reference-1-basic-structures.html#cb109-8" aria-hidden="true" tabindex="-1"></a>            <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (firmname,divname)</span>
<span id="cb109-9"><a href="reference-1-basic-structures.html#cb109-9" aria-hidden="true" tabindex="-1"></a>                <span class="kw">REFERENCES</span> division(firmname,divname));</span></code></pre></div>
<div class="sourceCode" id="cb110"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb110-1"><a href="reference-1-basic-structures.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> section (</span>
<span id="cb110-2"><a href="reference-1-basic-structures.html#cb110-2" aria-hidden="true" tabindex="-1"></a>    sectionid   <span class="dt">VARCHAR</span>(<span class="dv">15</span>),</span>
<span id="cb110-3"><a href="reference-1-basic-structures.html#cb110-3" aria-hidden="true" tabindex="-1"></a>    …</span>
<span id="cb110-4"><a href="reference-1-basic-structures.html#cb110-4" aria-hidden="true" tabindex="-1"></a>    divname     <span class="dt">VARCHAR</span>(<span class="dv">15</span>),</span>
<span id="cb110-5"><a href="reference-1-basic-structures.html#cb110-5" aria-hidden="true" tabindex="-1"></a>    firmname    <span class="dt">VARCHAR</span>(<span class="dv">15</span>),</span>
<span id="cb110-6"><a href="reference-1-basic-structures.html#cb110-6" aria-hidden="true" tabindex="-1"></a>    deptname    <span class="dt">VARCHAR</span>(<span class="dv">15</span>),</span>
<span id="cb110-7"><a href="reference-1-basic-structures.html#cb110-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(firmname,divname,deptname,sectionid),</span>
<span id="cb110-8"><a href="reference-1-basic-structures.html#cb110-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">CONSTRAINT</span> fk_department_department</span>
<span id="cb110-9"><a href="reference-1-basic-structures.html#cb110-9" aria-hidden="true" tabindex="-1"></a>            <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (firmname,divname,deptname)</span>
<span id="cb110-10"><a href="reference-1-basic-structures.html#cb110-10" aria-hidden="true" tabindex="-1"></a>                <span class="kw">REFERENCES</span> department(firmname,divname,deptname));</span></code></pre></div>
<div id="another-approach-to-a-tree-structure" class="section level4 unnumbered hasAnchor">
<h4>Another approach to a tree structure<a href="reference-1-basic-structures.html#another-approach-to-a-tree-structure" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A more general approach to modeling a tree structure is to recognize
that it is a series of 1:m recursive relationships. Thus, it can be
modeled as follows. This model is identical in structure to that of
recursive 1:m reviewed earlier in this chapter and converted to a table
in the same manner. Notice that we label the relationship <em>superunit</em>,
and this would be a good choice of name for the foreign key.</p>
<p><img src="Figures/Reference%201/r1-flextree.png" /></p>
</div>
</div>
</div>
<div id="exercises-7" class="section level2 unnumbered hasAnchor">
<h2>Exercises<a href="reference-1-basic-structures.html#exercises-7" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Write the SQL CREATE statements for the following data models.</p>
<ol style="list-style-type: decimal">
<li><p><img src="Figures/Chapter%207/revised%20NATION-STOCK.png" /></p></li>
<li></li>
</ol>
<p><img src="Figures/Chapter%207/geography%20revised.png" /></p>
<ol start="3" style="list-style-type: decimal">
<li><p><img src="Figures/Chapter%207/marriage-5.png" width="430" /></p></li>
<li><p><img src="Figures/Chapter%207/airline%20revised.png" width="600" /></p></li>
<li><p>Under what circumstances might you use choose a fixed tree over a
1:m recursive data model?</p></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-modeling.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="normalization-and-other-data-modeling-methods.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["DataManagement.pdf", "DataManagement.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
